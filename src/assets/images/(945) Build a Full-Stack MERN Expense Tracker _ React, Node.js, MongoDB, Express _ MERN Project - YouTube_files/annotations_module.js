(function(g){var window=this;'use strict';var NE=function(U){U.publish("cardstatechange",U.F9()&&U.ww()?1:0)},tJ=function(U,Y){var A=g.UO(Y),c=A?Y:arguments;
for(A=A?0:1;A<c.length;A++){if(U==null)return;U=U[c[A]]}return U},XBO=function(U){var Y=g.yR(U);
U=g.Ig(U);return new g.fx(Y.x,Y.y,U.width,U.height)},k5W=function(U,Y,A){var c=c===void 0?{}:c;
var d;return d=g.jh(U,Y,function(){g.NR(d);A.apply(U,arguments)},c)},XO=function(U){U=g.cW(U);
delete e2[U];g.qF(e2)&&BV&&BV.stop()},aWL=function(){BV||(BV=new g.IM(function(){REq()},20));
var U=BV;U.isActive()||U.start()},REq=function(){var U=g.om();
g.QY(e2,function(Y){xpO(Y,U)});
g.qF(e2)||aWL()},k7=function(U,Y,A,c){g.PF.call(this);
if(!Array.isArray(U)||!Array.isArray(Y))throw Error("Start and end parameters must be arrays");if(U.length!=Y.length)throw Error("Start and end points must be the same length");this.T=U;this.G=Y;this.duration=A;this.K=c;this.coords=[];this.progress=this.J=0;this.j=null},xpO=function(U,Y){Y<U.startTime&&(U.endTime=Y+U.endTime-U.startTime,U.startTime=Y);
U.progress=(Y-U.startTime)/(U.endTime-U.startTime);U.progress>1&&(U.progress=1);U.J=1E3/(Y-U.j);U.j=Y;s1L(U,U.progress);U.progress==1?(U.Y=0,XO(U),U.onFinish(),U.Zq()):U.isPlaying()&&U.s0()},s1L=function(U,Y){typeof U.K==="function"&&(Y=U.K(Y));
U.coords=Array(U.T.length);for(var A=0;A<U.T.length;A++)U.coords[A]=(U.G[A]-U.T[A])*Y+U.T[A]},fWo=function(U,Y){g.uY.call(this,U);
this.coords=Y.coords;this.x=Y.coords[0];this.y=Y.coords[1];this.z=Y.coords[2];this.duration=Y.duration;this.progress=Y.progress;this.fps=Y.J;this.state=Y.Y},RP=function(U,Y,A,c,d){k7.call(this,Y,A,c,d);
this.element=U},hET=function(U,Y,A,c,d){if(Y.length!=2||A.length!=2)throw Error("Start and end points must be 2D");
RP.call(this,U,Y,A,c,d)},S_W=function(U){return Math.pow(U,3)},Moo=function(U){return 3*U*U-2*U*U*U},b2q=function(U){g.p.call(this);
this.T=U||window;this.Y=[]},aP=function(U){return U.baseUrl||null},x7=function(U,Y){return g.fu(g.mk(U,Y),function(A){return!!A})},pBw=function(U,Y,A){function c(TV){var U9=TV.hovercardButton;
if(!U9)return null;U9=U9.subscribeButtonRenderer;if(!U9)return null;var LY=T(U9.unsubscribedButtonText),q=T(U9.subscribedButtonText);if(U9.subscribed){var FE=T(U9.subscriberCountWithUnsubscribeText);var B3=T(U9.subscriberCountText)}else FE=T(U9.subscriberCountText),B3=T(U9.subscriberCountWithSubscribeText);var O9=null;if(TV.signinEndpoint){O9=tJ(TV,"signinEndpoint","webNavigationEndpointData","url");if(!O9){var tq,Lj;O9=(Lj=g.O((tq=U9.signInEndpoint)==null?void 0:tq.commandMetadata,g.W2))==null?void 0:
Lj.url}if(!O9)return null}return LY&&(q||O9)?{subscribed:U9.subscribed,subscribeText:LY,subscribeCount:FE,unsubscribeText:q,unsubscribeCount:B3,enabled:U9.enabled,signinUrl:O9,classic:TV.useClassicSubscribeButton}:null}
function d(TV){if(TV){var U9=[],LY=TV.videoId;LY&&U9.push("v="+LY);(LY=TV.playlistId)&&U9.push("list="+LY);(TV=TV.startTimeSeconds)&&U9.push("t="+TV);return"/watch?"+U9.join("&")}}
function T(TV){if(!TV)return null;var U9=TV.simpleText;return U9?U9:TV.runs?g.mk(TV.runs,function(LY){return LY.text}).join(""):null}
Y=Y.endscreenElementRenderer;if(!Y)return null;var E=Y.style,L=Y.endpoint||{},r=null,l=null,P=!1,V=null,v=null,H=null,G=null,F=!1,N=null,e=null,B=null,f=null,h=null,Q=null;if(E==="VIDEO")g.O(L,g.pW)?r=g.O(L,g.pW).url:(Q=g.O(L,g.Yp),r=d(Q)),l=!1,V=U,Y.thumbnailOverlays?(P=Y.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,v=T(P.text),P=P.style==="LIVE"):v=T(Y.videoDuration);else if(E==="PLAYLIST")g.O(L,g.pW)?r=g.O(L,g.pW).url:(Q=g.O(L,g.Yp),r=d(Q)),l=!1,V=U,H=T(Y.playlistLength);else if(E===
"CHANNEL"){if(F=tJ(L,"browseEndpoint","browseId"))G=F,r="/channel/"+G;l=!1;V="new";(F=!!Y.isSubscribe)?N=c(Y):e=T(Y.subscribersText)}else E==="WEBSITE"?((B=tJ(L,"urlEndpoint","url"))&&(r=B),l=!0,V="new",B=Y.icon.thumbnails[0].url):E==="CREATOR_MERCHANDISE"&&(Y.productPrice&&(f=T(Y.productPrice)),Y.additionalFeesText&&(h=T(Y.additionalFeesText)),(l=tJ(L,"urlEndpoint","url"))&&(r=l),l=!0,V="new");U=tJ(Y,"title","accessibility","accessibilityData","label");var K=Y.endpoint?Y.endpoint.clickTrackingParams:
null,D="";if(Y.metadata){var c3=T(Y.metadata);c3&&(D=c3)}return{id:"element-"+A,type:E,title:T(Y.title),metadata:D,callToAction:T(Y.callToAction),m_:Y.image,iconUrl:B,left:Number(Y.left),width:Number(Y.width),top:Number(Y.top),aspectRatio:Number(Y.aspectRatio),startMs:Math.floor(Number(Y.startMs)),endMs:Math.floor(Number(Y.endMs)),videoDuration:v,T5:P,playlistLength:H,channelId:G,subscribeButton:N,subscribersText:e,isSubscribe:F,targetUrl:r||null,rsv:l,sessionData:K?{itct:K}:null,J8J:V,Up:U?U:null,
isPlaceholder:Y.isPlaceholder,impressionUrls:x7(Y.impressionUrls||[],aP),svE:x7(Y.hovercardShowUrls||[],aP),clickUrls:x7(L.loggingUrls||[],aP),visualElement:g.tz(Y.trackingParams),productPrice:f,additionalFeesText:h,watchEndpoint:Q||null}},Q1O=function(U,Y){var A={startMs:Math.floor(Number(U.startMs)),
impressionUrls:x7(U.impressionUrls||[],aP),elements:x7(U.elements||[],function(c,d){return pBw(Y,c,d)})};
U.trackingParams&&(A.visualElement=g.tz(U.trackingParams));return A},Z2O=function(U){g.lj.call(this,U);
this.j=this.endscreen=null;this.T={};this.J={};this.K=this.W=null;this.Z=[];this.Y=null;this.Pw=!0;this.G=0;U=U.L();this.X=g.M0(U)||g.ps(U);this.events=new g.Qy(this);g.Z(this,this.events);this.events.N(this.player,g.zf("creatorendscreen"),this.onCueRangeEnter);this.events.N(this.player,g.LS("creatorendscreen"),this.onCueRangeExit);this.events.N(this.player,"resize",this.hP);this.events.N(window,"focus",this.IhY);this.load();var Y=g.qs("STYLE");(g.On("HEAD")[0]||document.body).appendChild(Y);this.addOnDisposeCallback(function(){g.c4(Y)});
Y.sheet&&(Y.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),Y.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},O2j=function(U){return U.player.getVideoData().ET?"current":U.X?"new":"current"},sd=function(U){return U.player.L().playerStyle==="creator-endscreen-editor"},mpY=function(U){var Y=U.player.getVideoData(),A=Y.videoId;
U.j&&U.j.abort();A={method:"POST",onFinish:function(d){var T=U.j=null;d.status===200&&(d=d.responseText,d.substring(0,3)===")]}"&&(d=d.substring(3),T=JSON.parse(d),T=Q1O(T,O2j(U))));fM(U,T)},
urlParams:{v:A},withCredentials:!0};U.X&&(A.urlParams.ptype="embedded");var c=Y.Z$;c&&(A.postParams={ad_tracking:c});if(Y=g.vyv(Y))if(Y=g.Dz(Y),Y=g.ma(Y))U.j=g.tf(Y,A)},fM=function(U,Y,A){A=A===void 0?!0:A;
U.player.OH("creatorendscreen");U.W&&(U.W.dispose(),U.W=null,U.K.dispose(),U.K=null);for(var c=g.J(Object.values(U.T)),d=c.next();!d.done;d=c.next())d.value.dispose();U.T={};U.J={};U.Z.length>0&&(U.Z.forEach(function(L){L.dispose()}),U.Z.length=0);
U.Y&&(g.LZ(U.Y,"ytp-ce-element-show"),U.Y.setAttribute("aria-hidden","true"));U.G=0;if((U.endscreen=Y)&&Y.elements){A&&gKj(U);A=[];c=new g.EE(Y.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});A.push(c);U.player.L().T||(U.W=new g.n({D:"div",B:"ytp-ce-shadow"}),g.S4(U.player,U.W.element,4),U.K=new g.d1(U.W,200));for(c=0;c<Y.elements.length;++c){d=Y.elements[c];var T=ypo(U,d);if(T){U.T[d.id]=T;U.J[d.id]=d;g.S4(U.player,T.element,4);var E=new g.EE(d.startMs,d.endMs,{id:"ytp-ce-element-"+
d.id,namespace:"creatorendscreen"});A.push(E);nKF(U,T,d)}else g.Md(new g.Do("buildEndscreenElement null",d))}U.player.VT(A);U.hP()}},gKj=function(U){var Y=g.Bj(),A=g.X3();
A&&Y&&U.endscreen.visualElement&&g.qY(g.uA)(void 0,A,Y,U.endscreen.visualElement)},ypo=function(U,Y){var A=null;
switch(Y.type){case "VIDEO":U={D:"div",Iv:["ytp-ce-element","ytp-ce-video"],V:{tabindex:"0","aria-label":Y.Up||"","aria-hidden":"true"},C:[{D:"div",B:"ytp-ce-element-shadow"},{D:"div",B:"ytp-ce-covering-image",V:hJ(Y)},{D:"div",B:"ytp-ce-covering-shadow-top"},{D:"a",B:"ytp-ce-covering-overlay",V:{href:S2(U,Y.targetUrl),tabindex:"-1"},C:[{D:"div",Iv:["ytp-ce-video-title","ytp-webkit-ellipsis"],V:{dir:g.Gx(Y.title||"")},YE:Y.title},{D:"div",B:Y.T5?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
YE:Y.videoDuration||void 0}]}]};A=new g.n(U);break;case "PLAYLIST":U={D:"div",Iv:["ytp-ce-element","ytp-ce-playlist"],V:{tabindex:"0","aria-label":Y.Up||"","aria-hidden":"true"},C:[{D:"div",B:"ytp-ce-element-shadow"},{D:"div",B:"ytp-ce-covering-image",V:hJ(Y)},{D:"div",B:"ytp-ce-covering-shadow-top"},{D:"a",B:"ytp-ce-covering-overlay",V:{href:S2(U,Y.targetUrl),tabindex:"-1"},C:[{D:"div",Iv:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],V:{dir:g.Gx(Y.title||"")},YE:Y.title},{D:"div",B:"ytp-ce-playlist-count",
C:[{D:"div",B:"ytp-ce-playlist-icon"},{D:"div",B:"ytp-ce-playlist-count-text",YE:Y.playlistLength||void 0}]}]}]};A=new g.n(U);break;case "CHANNEL":A={D:"div",Iv:["ytp-ce-element","ytp-ce-channel",Y.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],V:{tabindex:"0","aria-label":Y.Up||"","aria-hidden":"true"},C:[{D:"div",B:"ytp-ce-element-shadow"},{D:"div",B:"ytp-ce-expanding-overlay",C:[{D:"div",B:"ytp-ce-expanding-overlay-hider"},{D:"div",B:"ytp-ce-expanding-overlay-background"},{D:"div",B:"ytp-ce-expanding-overlay-content",
C:[{D:"div",B:"ytp-ce-expanding-overlay-body",C:[{D:"div",B:"ytp-ce-expanding-overlay-body-padding",C:[{D:"a",Iv:["ytp-ce-channel-title","ytp-ce-link"],V:{href:S2(U,Y.targetUrl),target:"_blank",tabindex:"-1",dir:g.Gx(Y.title||"")},YE:Y.title},Y.subscribeButton?{D:"div",B:"ytp-ce-subscribe-container",C:[{D:"div",B:"ytp-ce-channel-subscribe"}]}:"",Y.subscribersText?{D:"div",B:"ytp-ce-channel-subscribers-text",YE:Y.subscribersText}:"",Y.metadata?{D:"div",Iv:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],YE:Y.metadata}:""]}]}]}]},{D:"div",B:"ytp-ce-expanding-image",V:hJ(Y)}]};A=new g.n(A);var c=g.gf(document,"div","ytp-ce-channel-subscribe",A.element)[0];if(Y.subscribeButton&&Y.channelId){g.ou(c,"ytp-ce-subscribe-button");if(U.player.L().T){var d=null;var T=Y.sessionData.itct}else d="endscreen",T=null;d=new g.gH(Y.subscribeButton.subscribeText,Y.subscribeButton.subscribeCount,Y.subscribeButton.unsubscribeText,Y.subscribeButton.unsubscribeCount,!!Y.subscribeButton.enabled,!!Y.subscribeButton.classic,
Y.channelId,!!Y.subscribeButton.subscribed,d,T,U.player,!1);c.appendChild(d.element);U.Z.push(d)}break;case "WEBSITE":U={D:"div",Iv:["ytp-ce-element","ytp-ce-website"],V:{tabindex:"0","aria-label":Y.Up||"","aria-hidden":"true"},C:[{D:"div",B:"ytp-ce-element-shadow"},{D:"div",B:"ytp-ce-expanding-overlay",C:[{D:"div",B:"ytp-ce-expanding-overlay-hider"},{D:"div",B:"ytp-ce-expanding-overlay-background"},{D:"div",B:"ytp-ce-expanding-overlay-content",C:[{D:"div",B:"ytp-ce-expanding-overlay-body",C:[{D:"div",
B:"ytp-ce-expanding-overlay-body-padding",C:[{D:"div",B:"ytp-ce-website-title",V:{dir:g.Gx(Y.title||"")},YE:Y.title},{D:"div",B:"ytp-ce-website-metadata",YE:Y.metadata},{D:"a",Iv:["ytp-ce-website-goto","ytp-ce-link"],V:{href:S2(U,Y.targetUrl),target:"_blank",tabindex:"-1"},YE:Y.callToAction}]}]}]}]},{D:"div",B:"ytp-ce-expanding-image",V:hJ(Y)},{D:"div",B:"ytp-ce-expanding-icon",V:Dpo(Y.iconUrl)}]};A=new g.n(U);break;case "CREATOR_MERCHANDISE":A="",Y.productPrice&&(A={D:"div",B:"ytp-ce-merchandise-price-container",
C:[{D:"div",B:"ytp-ce-merchandise-price",YE:Y.productPrice}]},Y.additionalFeesText&&A.C.push({D:"div",B:"ytp-ce-merchandise-additional-fees",YE:Y.additionalFeesText})),U={D:"div",Iv:["ytp-ce-element","ytp-ce-merchandise"],V:{tabindex:"0","aria-label":Y.Up||"","aria-hidden":"true"},C:[{D:"div",B:"ytp-ce-element-shadow"},{D:"div",B:"ytp-ce-expanding-overlay",C:[{D:"div",B:"ytp-ce-expanding-overlay-hider"},{D:"div",B:"ytp-ce-expanding-overlay-background"},{D:"div",B:"ytp-ce-expanding-overlay-content",
C:[{D:"div",B:"ytp-ce-expanding-overlay-body",C:[{D:"div",B:"ytp-ce-expanding-overlay-body-padding",C:[{D:"div",B:"ytp-ce-merchandise-title",V:{dir:g.Gx(Y.title||"")},YE:Y.title},A,{D:"div",B:"ytp-ce-merchandise-metadata",YE:Y.metadata},{D:"a",Iv:["ytp-ce-merchandise-goto","ytp-ce-link"],V:{href:S2(U,Y.targetUrl),target:"_blank",tabindex:"-1"},YE:Y.callToAction}]}]}]}]},{D:"div",B:"ytp-ce-expanding-image",V:hJ(Y)},{D:"div",B:"ytp-ce-merchandise-invideo-cta-container",C:[{D:"div",B:"ytp-ce-merchandise-invideo-cta",
YE:Y.callToAction||void 0}]}]},A=new g.n(U)}Y.isPlaceholder&&g.ou(A.element,"ytp-ce-placeholder");return A},hJ=function(U){if(U.m_)var Y=U.m_.thumbnails;
return Dpo(Y?Y[Y.length-1].url:null)},Dpo=function(U){return U?{style:"background-image: url("+U+")"}:{}},nKF=function(U,Y,A){function c(r){r&&(Y.listen("blur",function(){r.style.display!="none"&&U.Pw&&r.focus()}),Y.N(r,"focus",T),Y.N(r,"blur",E))}
function d(r){U.G+=r;U.G>0?(g.ou(Y.element,"ytp-ce-force-expand"),ME(U,A.id,!0)):(g.LZ(Y.element,"ytp-ce-force-expand"),g.LZ(Y.element,"ytp-ce-element-hover"),ME(U,A.id,!1))}
function T(){d(1)}
function E(){d(-1)}
Y.listen("mouseenter",function(){IWf(U,Y,A)});
Y.listen("mouseleave",function(){uLz(U,Y,A)});
U.player.L().T||Y.listen("click",function(){g.ou(Y.element,"ytp-ce-element-hover")});
Y.listen("click",function(r){KWz(U,A,r)});
Y.listen("keypress",function(r){KWz(U,A,r)});
Y.listen("focus",function(){IWf(U,Y,A)});
Y.listen("blur",function(){uLz(U,Y,A)});
Y.listen("touchstart",function(){IWf(U,Y,A)});
var L=g.y7("ytp-ce-expanding-overlay-hider",Y.element);L&&Y.N(L,"touchstart",function(r){r.stopPropagation();g.LZ(Y.element,"ytp-ce-element-hover");g.LZ(Y.element,"ytp-ce-force-expand")});
Y.listen("keydown",function(r){U.Pw=r.keyCode===9&&!r.shiftKey});
c(g.y7("ytp-sb-subscribe",Y.element));c(g.y7("ytp-sb-unsubscribe",Y.element));Y.listen("focus",T);Y.listen("blur",E)},KWz=function(U,Y,A){if(Y.targetUrl&&(!A||A.type!=="keypress"||A.keyCode===13)){for(var c=A.target;c&&!g.E4(c,"ytp-ce-element");){g.E4(c,"subscribe-label")&&q_z(U,Y);
if(g.E4(c,"ytp-ce-channel-subscribe"))return;c=c.parentElement||null}if(!c||g.E4(c,"ytp-ce-element-hover")){A.preventDefault();A.stopPropagation();if(c=U.T[Y.id])uLz(U,c,Y),c.element.blur();if(A.ctrlKey||A.metaKey||Y.J8J==="new")q_z(U,Y),U.player.sendVideoStatsEngageEvent(17,void 0),U.player.pauseVideo(),A=g.Dz(S2(U,Y.targetUrl)),A=g.ma(A),g.yz(A,void 0,Y.sessionData);else{var d=g.Cs(U.player.L())||U.player.getVideoData().ET,T=function(){var E=S2(U,Y.targetUrl),L=Y.sessionData,r=Y.watchEndpoint,l=
g.dF(E);d&&l&&(l.v||l.list)?U.player.uP(l.v,L,l.list,!1,void 0,r||void 0):g.g1(E,L)};
q_z(U,Y,function(){U.player.sendVideoStatsEngageEvent(17,T)})}}}},S2=function(U,Y){U=U.player.L();
if(Y){if(Y.startsWith("//"))return U.protocol+":"+Y;if(Y.startsWith("/"))return g.EJ(U)+Y}else return"";return Y},IWf=function(U,Y,A){g.E4(Y.element,"ytp-ce-element-hover")||(A.type==="VIDEO"||A.type==="PLAYLIST"?g.ou(Y.element,"ytp-ce-element-hover"):U.player.L().T?(new g.IM(function(){g.ou(Y.element,"ytp-ce-element-hover")},200)).start():g.ou(Y.element,"ytp-ce-element-hover"),bX(U,A.svE),ME(U,A.id,!0))},uLz=function(U,Y,A){g.LZ(Y.element,"ytp-ce-element-hover");
g.LZ(Y.element,"ytp-ce-force-expand");ME(U,A.id,!1)},ME=function(U,Y,A){U.W&&(A?U.K.show():U.K.hide());
for(var c=g.J(Object.keys(U.T)),d=c.next();!d.done;d=c.next())d=d.value,d!==Y&&g.lg(U.T[d].element,"ytp-ce-element-shadow-show",A)},bX=function(U,Y,A){function c(){T||(d++,d===Y.length&&(E.stop(),A&&A()))}
if(!Y||Y.length===0||sd(U))A&&A();else{Y=CmF(U,Y);var d=0,T=!1,E=new g.IM(function(){T=!0;A&&A()},1E3,U);
E.start();for(U=0;U<Y.length;U++)g.OC(Y[U],c)}},q_z=function(U,Y,A){bX(U,Y.clickUrls,A);
(U=g.X3())&&Y.rsv&&g.z2(U,Y.visualElement)},CmF=function(U,Y){var A=U.player.getVideoData().clientPlaybackNonce;
U=U.player.getCurrentTime().toFixed(2);A={CPN:A,AD_CPN:A,MT:U};U=[];for(var c=0;c<Y.length;c++)U.push(Uzw(Y[c],A));return U},Uzw=function(U,Y){return U.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(A){var c=unescape(A);
c=c.substring(1,c.length-1);return Y[c]?escape(Y[c]):A})},Y2T=function(U){return typeof U==="string"?U:""},pM=function(U,Y,A){for(var c in Y)if(Y[c]===U)return U;
return A},A1f=function(U,Y,A,c){this.value=U;
this.target=Y;this.showLinkIcon=A;this.Y=c},Q$=function(U){return U.value?U.value:null},Zk=function(U){if(!U)return null;
var Y=g.Dz(Y2T(U.value));Y=g.ma(Y);if(!Y)return null;var A=pM(U.target,c1m,"current");if(A==null)U=null;else{var c=U.show_link_icon;U=new A1f(Y,A,c==="true"||c==="false"?c==="true":!0,U.pause_on_navigation!=null?U.pause_on_navigation:!0)}return U},dzq=function(U,Y,A){this.type=U;
this.trigger=Y;this.url=A},oZI=function(U){if(!U)return null;
var Y=pM(U.type,T$o),A=pM(U.trigger,EZY);U=U.url;U=Array.isArray(U)&&U.length?U[0]:U;U=Zk(U?U:null);return Y?new dzq(Y,A,U):null},zyf=function(U,Y,A,c,d){this.id=U;
this.type=Y;this.style=A;this.data=d;this.action=c||[]},LAW=function(U,Y){return g.$z(U.action,Y)},r1L=function(U,Y){this.context=U;
this.Y=Y},lVO=function(U){return U.customMessage?Od("div","iv-card-message",U.customMessage):""},mn=function(U,Y){U="background-image: url("+U+");";
var A=[];Y&&A.push(Y);return{D:"div",B:"iv-card-image",V:{style:U},C:A}},P3f=function(U){if(!U.metaInfo||U.metaInfo.length===0)return"";
var Y=[];U=g.J(U.metaInfo);for(var A=U.next();!A.done;A=U.next())Y.push(Od("li","",A.value));return{D:"ul",B:"iv-card-meta-info",C:Y}},Od=function(U,Y,A){Y?typeof Y==="string"?Y={"class":Y}:Array.isArray(Y)&&(Y={"class":Y.join(" ")}):Y={};
Y.dir=g.Gx(A);return{D:U,V:Y,YE:A}},VgF=function(U){if(!U.customMessage)return"";
var Y=["iv-card-action","iv-card-primary-link"],A={};U.Op&&(Y.push("iv-card-action-icon"),A.style="background-image: url("+U.Op+");");A.dir=g.Gx(U.customMessage);var c=[{D:"span",YE:U.customMessage}];U.showLinkIcon&&(c.push("\u00a0"),c.push({D:"span",B:"iv-card-link-icon"}));return{D:"div",Iv:Y,V:A,C:c}},gR=function(U,Y,A,c){if(c){Y=g.J(Y);
for(var d=Y.next();!d.done;d=Y.next())U.Y(d.value,c,A.id,A.sessionData,A.KJ.click,5)}},$zz=function(U,Y){this.merchant=U;
this.price=Y},vZo=function(U){var Y;
(Y=U)&&!(Y=U.length>1?U.charAt(0)==="/"&&U.charAt(1)!=="/":U==="/")&&(Y=U.replace(/^(https?:)?\/\//,"").split("/",1),Y=!Y||Y.length<1||!Y[0]?[]:Y[0].toLowerCase().split(".").reverse(),Y=Y[0]==="com"&&Y[1]==="youtube"||Y[0]==="be"&&Y[1]==="youtu");return Y?U.indexOf("/redirect?")===-1:!1},HGj=function(U,Y){return Y?Y:vZo(U)?"current":"new"},y$=function(U,Y){g.p.call(this);
var A=this;this.element=U;this.context=Y;this.VJ=!1;this.dW=new Map;this.Zf=new Map;this.context.U.addEventListener(g.zf("annotations_module"),function(c){(c=A.dW.get(c))&&c.apply(A)});
this.context.U.addEventListener(g.LS("annotations_module"),function(c){(c=A.Zf.get(c))&&c.apply(A)})},nM=function(U,Y,A,c,d,T,E){U.context.Y.listen(Y,"click",function(L){U.jA(A,c,d,T||[],E||0,L)});
U.context.Y.listen(Y,"touchstart",function(){U.VJ=!1});
U.context.Y.listen(Y,"touchmove",function(){U.VJ=!0})},Glj=function(U){var Y;
return((Y=g.O(U,g.pW))==null?0:Y.url)?g.O(U,g.pW).url:(U=g.O(U,g.Yp))&&U.videoId?(Y="/watch?v="+U.videoId,U.playlistId&&(Y+="&list="+U.playlistId),U.index&&(Y+="&index="+U.index),U.startTimeSeconds&&(Y+="&t="+U.startTimeSeconds),Y):null},Dk=function(U,Y,A){return{TP:(U.impressionLoggingUrlsV2s||[]).map(function(c){return c.baseUrl||""}),
click:(A.loggingUrls||[]).map(function(c){return c.baseUrl||""}),
close:(Y.dismissLoggingUrlsV2s||[]).map(function(c){return c.baseUrl||""}),
IE:(Y.impressionLoggingUrlsV2s||[]).map(function(c){return c.baseUrl||""}),
dM:(Y.clickLoggingUrlsV2s||[]).map(function(c){return c.baseUrl||""})}},WAo=function(U,Y,A){y$.call(this,Y,A);
var c=this;this.U=U;this.eventId=null;this.Tk=this.Uv=this.AP=this.W=this.isInitialized=!1;this.cards=[];this.i$=this.Z=this.eX=this.K=this.yJ=this.Y=null;this.Pw=[];this.Hw=this.G=this.Pa=this.QJ=null;this.J=0;this.jX=new g.IM(function(){},A.MI.sO?4E3:3E3);
g.Z(this,this.jX);this.qI=new g.IM(function(){});
g.Z(this,this.qI);this.ov=new r1L(A,function(d,T,E,L,r,l){nM(c,d,T,E,L,r,l)});
this.X=new g.n({D:"div",B:"iv-drawer",V:{id:"iv-drawer"},C:[{D:"div",B:"iv-drawer-header",V:{"aria-role":"heading"},C:[{D:"span",B:"iv-drawer-header-text"},{D:"button",Iv:["iv-drawer-close-button","ytp-button"],V:{"aria-label":"Hide cards",tabindex:"0"}}]},{D:"div",B:"iv-drawer-content"}]});g.Z(this,this.X);this.j=this.X.element;this.Ly=new g.d1(this.X,330);g.Z(this,this.Ly);this.ws=g.y7("iv-drawer-header-text",this.j);this.T=g.y7("iv-drawer-content",this.j);this.addCueRange(0,A.videoData.lengthSeconds*
1E3,"",function(){c.AP&&IP(c,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(c.AP=c.W)&&uX(c)});
this.kE=new g.Qy(this);g.Z(this,this.kE);this.U.addEventListener("videodatachange",this.Ex.bind(this))},wpf=function(U,Y){Y=Y.data;
Y.autoOpenMs&&U.addCueRange(Y.autoOpenMs,0x8000000000000,"",function(){IP(U,"YOUTUBE_DRAWER_AUTO_OPEN")});
Y.autoCloseMs&&U.addCueRange(Y.autoCloseMs,0x8000000000000,"",function(){uX(U)});
var A=Y.headerText;g.TH(U.ws,A);U.Z&&U.Z.setAttribute("title",A);Y.eventId&&(U.eventId=Y.eventId);U.QJ=g.tz(Y.trackingParams);U.G=g.tz(Y.closeTrackingParams);U.Pa=g.tz(Y.iconTrackingParams)},iGY=function(U,Y){var A=Y.cardId?Y.cardId:"cr:"+U.J,c=U.U.L().experiments.lY("enable_error_corrections_infocard_web_client");
if(!Y.content&&Y.teaser.simpleCardTeaserRenderer&&c){var d=Y.teaser.simpleCardTeaserRenderer,T=Y.icon?Y.icon.infoCardIconRenderer:null;Y={id:A,timestamp:U.J,type:"simple",teaserText:g.wB(d.message),teaserDurationMs:Number(Y.cueRanges[0].teaserDurationMs),startMs:Number(Y.cueRanges[0].startCardActiveMs),autoOpen:!!Y.autoOpen,sessionData:{},sponsored:!1,KJ:{},YD:null,Ym:d.trackingParams?g.tz(d.trackingParams):null,Pa:T&&T.trackingParams?g.tz(T.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,
Op:null,title:"",customMessage:"",url:null,onClickCommand:d.onTapCommand||null};KM(U,Y)}else{var E;if((E=Y.content)==null?0:E.simpleCardContentRenderer){if(!Y.cueRanges.length)return;T=(d=Y.content)==null?void 0:d.simpleCardContentRenderer;d=Y.teaser.simpleCardTeaserRenderer;var L=Y.icon?Y.icon.infoCardIconRenderer:null;Y={id:A,timestamp:U.J,type:"simple",teaserText:g.wB(d.message),teaserDurationMs:Number(Y.cueRanges[0].teaserDurationMs),startMs:Number(Y.cueRanges[0].startCardActiveMs),autoOpen:!!Y.autoOpen,
sessionData:qE(U,A,Y,T),sponsored:!1,KJ:Dk(T,d,T.command),YD:T.trackingParams?g.tz(T.trackingParams):null,Ym:d.trackingParams?g.tz(d.trackingParams):null,Pa:L&&L.trackingParams?g.tz(L.trackingParams):null,imageUrl:CM(T.image.thumbnails,290).url,displayDomain:T.displayDomain?g.wB(T.displayDomain):null,showLinkIcon:!!T.showLinkIcon,Op:null,title:T.title?g.wB(T.title):"",customMessage:T.callToAction?g.wB(T.callToAction):"",url:g.O(T.command,g.pW).url?Zk({pause_on_navigation:!U.context.videoData.isLivePlayback,
target:"new",value:g.O(T.command,g.pW).url}):null,onClickCommand:null};KM(U,Y)}else{var r;if((r=Y.content)==null?0:r.collaboratorInfoCardContentRenderer){if(!Y.cueRanges.length)return;d=(T=Y.content)==null?void 0:T.collaboratorInfoCardContentRenderer;T=Y.teaser.simpleCardTeaserRenderer;L=Y.icon?Y.icon.infoCardIconRenderer:null;Y={id:A,timestamp:U.J,type:"collaborator",teaserText:g.wB(T.message),teaserDurationMs:Number(Y.cueRanges[0].teaserDurationMs),startMs:Number(Y.cueRanges[0].startCardActiveMs),
autoOpen:!!Y.autoOpen,sessionData:qE(U,A,Y,d),sponsored:!1,KJ:Dk(d,T,d.endpoint),YD:d.trackingParams?g.tz(d.trackingParams):null,Ym:T.trackingParams?g.tz(T.trackingParams):null,Pa:L&&L.trackingParams?g.tz(L.trackingParams):null,channelId:g.O(d.endpoint,g.BT).browseId,customMessage:d.customText?g.wB(d.customText):null,profileImageUrl:CM(d.channelAvatar.thumbnails,290).url,title:d.channelName?g.wB(d.channelName):"",metaInfo:[d.subscriberCountText?g.wB(d.subscriberCountText):""],url:Zk({pause_on_navigation:!U.context.videoData.isLivePlayback,
target:"new",value:g.O(d.endpoint,g.BT).canonicalBaseUrl?g.O(d.endpoint,g.BT).canonicalBaseUrl:"/channel/"+g.O(d.endpoint,g.BT).browseId}),onClickCommand:null};KM(U,Y)}else{var l;if((l=Y.content)==null?0:l.playlistInfoCardContentRenderer){if(!Y.cueRanges.length)return;d=(L=Y.content)==null?void 0:L.playlistInfoCardContentRenderer;T=Y.teaser.simpleCardTeaserRenderer;L=Y.icon?Y.icon.infoCardIconRenderer:null;Y={id:A,timestamp:U.J,type:"playlist",teaserText:g.wB(T.message),teaserDurationMs:Number(Y.cueRanges[0].teaserDurationMs),
startMs:Number(Y.cueRanges[0].startCardActiveMs),autoOpen:!!Y.autoOpen,sessionData:qE(U,A,Y,d),sponsored:!1,KJ:Dk(d,T,d.action),YD:d.trackingParams?g.tz(d.trackingParams):null,Ym:T.trackingParams?g.tz(T.trackingParams):null,Pa:L&&L.trackingParams?g.tz(L.trackingParams):null,g0:CM(d.playlistThumbnail.thumbnails,258).url,customMessage:d.customMessage?g.wB(d.customMessage):null,playlistVideoCount:g.wB(d.playlistVideoCount),title:d.playlistTitle?g.wB(d.playlistTitle):"",metaInfo:[d.channelName?g.wB(d.channelName):
"",d.videoCountText?g.wB(d.videoCountText):""],url:Zk({pause_on_navigation:!U.context.videoData.isLivePlayback,target:"new",value:Glj(d.action)}),onClickCommand:null};KM(U,Y)}else{var P;if((P=Y.content)==null?0:P.videoInfoCardContentRenderer){if(!Y.cueRanges.length)return;var V;d=(V=Y.content)==null?void 0:V.videoInfoCardContentRenderer;T=Y.teaser.simpleCardTeaserRenderer;L=Y.icon?Y.icon.infoCardIconRenderer:null;Y={id:A,timestamp:U.J,type:"video",teaserText:g.wB(T.message),teaserDurationMs:Number(Y.cueRanges[0].teaserDurationMs),
startMs:Number(Y.cueRanges[0].startCardActiveMs),autoOpen:!!Y.autoOpen,sessionData:qE(U,A,Y,d),sponsored:!1,KJ:Dk(d,T,d.action),YD:d.trackingParams?g.tz(d.trackingParams):null,Ym:T.trackingParams?g.tz(T.trackingParams):null,Pa:L&&L.trackingParams?g.tz(L.trackingParams):null,g0:CM(d.videoThumbnail.thumbnails,258).url,videoDuration:d.lengthString?g.wB(d.lengthString):null,customMessage:d.customMessage?g.wB(d.customMessage):null,title:d.videoTitle?g.wB(d.videoTitle):"",metaInfo:[d.channelName?g.wB(d.channelName):
"",d.viewCountText?g.wB(d.viewCountText):""],isLiveNow:!!d.badge,url:Zk({pause_on_navigation:!U.context.videoData.isLivePlayback,target:"new",value:Glj(d.action)}),onClickCommand:null};KM(U,Y)}}}}}U.J++},CM=function(U,Y){for(var A=-1,c=-1,d=0;d<U.length;d++){if(U[d].height===Y||U[d].width===290)return U[d];
((U[d].height||0)<Y||(U[d].width||0)<290)&&(A<0||(U[A].height||0)<(U[d].height||0)||(U[A].width||0)<(U[d].width||0))?A=d:((U[d].height||0)>=Y||(U[d].width||0)>=290)&&(c<0||(U[c].height||0)>(U[d].height||0)||(U[c].width||0)>(U[d].width||0))&&(c=d)}return U[c>=0?c:A]},qE=function(U,Y,A,c){return{feature:A.feature?A.feature:"cards",
src_vid:U.context.videoData.videoId,annotation_id:Y,ei:U.context.videoData.eventId||"",itct:c.trackingParams||""}},FAO=function(U,Y){if(Y=J1W(U,Y))Y===U.Y&&(U.Y=null),U.U.removeCueRange(Y.Xl.id),g.c4(Y.Gu),g.wL(U.cards,Y),U.C_(),Uc(U)},IP=function(U,Y,A){if(!U.W){U.Ly.show();
U.yJ=new g.IM(function(){g.ou(U.context.U.getRootNode(),g.YN.IV_DRAWER_OPEN)},0);
U.yJ.start();U.kE.N(U.T,"mousewheel",function(E){U.jX.start();E.preventDefault();E=E||window.event;var L=0;E.type=="MozMousePixelScroll"?L=0==(E.axis==E.HORIZONTAL_AXIS)?E.detail:0:window.opera?L=E.detail:L=E.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?E.wheelDeltaY/-30:E.wheelDeltaY/-1.2:E.wheelDelta/-1.6:E.wheelDeltaY/-3;if(E=L)U.T.scrollTop+=E});
U.W=!0;var c=g.X3();c&&U.QJ&&U.G&&g.ED(c,[U.QJ,U.G]);Y={TRIGGER_TYPE:Y};for(var d=g.J(U.cards),T=d.next();!T.done;T=d.next())T=T.value,T.Tj||(T.Tj=!0,j3L(U.context.logger,T.Xl.KJ.TP,Y)),c&&g.ED(c,[T.Xl.YD]);NE(U.U);A&&(U.K=new g.IM(function(){U.eX=U.Z;U.i$.focus()},330),U.K.start())}},uX=function(U){U.W&&(U.Ly.hide(),g.Rb(U.kE),g.LZ(U.context.U.getRootNode(),g.YN.IV_DRAWER_OPEN),U.W=!1,NE(U.U),U.K&&U.K.stop(),U.K=new g.IM(function(){U.eX&&(U.eX.focus(),U.eX=null)},330),U.K.start())},N$O=function(U){g.zx(U.jc(),
[g.YN.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.S4(U.U,U.j,5);U.bM();U.Z=g.y7("ytp-cards-button",U.U.getRootNode());U.i$=g.y7("iv-drawer-close-button",U.j);U.isInitialized=!0},tgI=function(U){U.Pw.push(g.oQ("iv-teaser-shown",U.wR,U));
U.Pw.push(g.oQ("iv-teaser-hidden",U.Rrs,U));U.Pw.push(g.oQ("iv-teaser-clicked",U.MC,U));U.Tk=!0},eyY=function(U,Y){var A;
return Y.onClickCommand&&((A=g.O(Y.onClickCommand,g.AUz))==null?void 0:A.targetId)==="engagement-panel-error-corrections"?(U.Hw=Y,!0):!1},B$w=function(U,Y){U.Hw=Y;
var A=U.U.getVideoData();if(!A)return!1;A=g.kQ(A);if(A==null?0:A.markersMap)for(var c,d=0;((c=A)==null?void 0:c.markersMap.length)>d;d++){var T=void 0,E=(T=A)==null?void 0:T.markersMap[d];if(E.key==="ERROR_CORRECTION_MARKERS"&&(T=void 0,(E=(T=E.value)==null?void 0:T.markers)&&E.length>0))return c=void 0,Y.startMs=((c=g.O(E[0],g.akX))==null?void 0:c.timeRangeStartMillis)||0,U.Hw=null,!0}return!1},KM=function(U,Y){if(!eyY(U,Y)||B$w(U,Y)){var A=XpI(U,Y);
if(A){var c={Xl:Y,Gu:A.element,Tj:!1};if(Y.onClickCommand)U.U.S("web_infocards_teaser_show_logging_fix")&&(U.Tk||tgI(U),FAO(U,Y.id),A=U.findLastIndex(c),g.BW(U.cards,A,0,c));else{U.isInitialized||N$O(U);FAO(U,Y.id);var d=U.findLastIndex(c);g.BW(U.cards,d,0,c);A.Df(U.T,d);U.C_()}Y.autoOpen?U.addCueRange(Y.startMs,0x8000000000000,Y.id,function(){U.W||(U.Y=c,Uc(U),klo(U,c),IP(U,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(A=U.context.U.getCurrentTime()*1E3,A<5E3&&A>Y.startMs&&Ryq(U,c),U.addCueRange(Y.startMs,
Y.startMs+1,Y.id,function(){Ryq(U,c)}),Uc(U))}}},XpI=function(U,Y){switch(Y.type){case "simple":U=U.ov;
var A=Y.displayDomain?{D:"div",B:"iv-card-image-text",YE:Y.displayDomain}:void 0;var c=VgF(Y);A={D:"div",Iv:["iv-card"],C:[{D:"a",B:"iv-click-target",V:{href:Y.url?Q$(Y.url)||"":""},C:[mn(Y.imageUrl,A),{D:"div",B:"iv-card-content",C:[Od("h2",void 0,Y.title),c]}]}]};A=new g.n(A);gR(U,g.m2("iv-click-target",A.element),Y,Y.url);Y=A;break;case "collaborator":U=U.ov;A={D:"div",Iv:["iv-card","iv-card-channel"],C:[{D:"a",Iv:["iv-click-target"],V:{href:Q$(Y.url)||"","data-ytid":Y.channelId},C:[mn(Y.profileImageUrl),
{D:"div",B:"iv-card-content",C:[lVO(Y),{D:"h2",B:"iv-card-primary-link",YE:Y.title},P3f(Y)]}]}]};A=new g.n(A);gR(U,g.m2("iv-click-target",A.element),Y,Y.url);Y=A;break;case "playlist":U=U.ov;A={D:"div",Iv:["iv-card","iv-card-playlist"],C:[{D:"a",B:"iv-click-target",V:{href:Q$(Y.url)||""},C:[mn(Y.g0,{D:"div",B:"iv-card-image-overlay",C:[{D:"span",B:"iv-card-playlist-video-count",YE:Y.playlistVideoCount}]}),{D:"div",B:"iv-card-content",C:[lVO(Y),Od("h2","iv-card-primary-link",Y.title),P3f(Y)]}]}]};
A=new g.n(A);gR(U,g.m2("iv-click-target",A.element),Y,Y.url);Y=A;break;case "productListing":U=U.ov;var d=Y.offers.length!=0;A=["iv-card"];c="";var T=VgF(Y);d&&(A.push("iv-card-product-listing"),c="iv-card-primary-link",T=Y.offers[0],d=[],T.price&&d.push({D:"div",B:"iv-card-offer-price",YE:T.price}),T.merchant&&d.push({D:"div",B:"iv-card-offer-merchant",YE:T.merchant}),T={D:"div",C:d});d=Y.url?Q$(Y.url)||"":"";A={D:"div",Iv:A,V:{tabindex:"0"},C:[{D:"a",Iv:["iv-card-image","iv-click-target"],V:{style:"background-image: url("+
Y.imageUrl+");",href:d,"aria-hidden":"true",tabindex:"-1"}},{D:"div",B:"iv-card-content",C:[Y.sponsored?{D:"div",B:"iv-card-sponsored",C:["Sponsored",{D:"div",B:"iv-ad-info-container",C:[{D:"div",B:"iv-ad-info",YE:"{{adInfo}}"},{D:"div",B:"iv-ad-info-icon-container",C:[{D:"div",B:"iv-ad-info-icon"},{D:"div",B:"iv-ad-info-callout"}]}]}]}:"",{D:"a",B:"iv-click-target",V:{href:d},C:[Od("h2",c,Y.title),T]}]}]};A=new g.n(A);c=g.qs("span");g.TH(c,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
A.CU(c,"adInfo");gR(U,g.m2("iv-click-target",A.element),Y,Y.url);Y=A;break;case "video":U=U.ov;c=Y.videoDuration?{D:"span",B:"iv-card-video-duration",YE:Y.videoDuration}:void 0;T=Y.isLiveNow?{D:"span",Iv:["yt-badge","yt-badge-live"],YE:"LIVE NOW"}:null;d={D:"div",Iv:["iv-card","iv-card-video"],C:[{D:"a",B:"iv-click-target",V:{href:((A=Y.url)==null?void 0:Q$(A))||""},C:[mn(Y.g0,c),{D:"div",B:"iv-card-content",C:[lVO(Y),Od("h2","iv-card-primary-link",Y.title),P3f(Y),T]}]}]};A=new g.n(d);gR(U,g.m2("iv-click-target",
A.element),Y,Y.url);Y=A;break;default:return null}return Y},aVo=function(U){if(U.Y)return U.Y.Xl.type==="productListing";
if(U.U.S("enable_wn_infocards")){var Y;return!((Y=U.cards)==null||!Y.length)&&g.gv(U.cards,function(A){return A.Xl.type==="productListing"})}return g.gv(U.cards,function(A){return A.Xl.type==="productListing"})},Uc=function(U){g.lg(U.U.getRootNode(),"ytp-cards-shopping-active",aVo(U))},Ryq=function(U,Y){if(!g.E4(U.U.getRootNode(),"ytp-cards-teaser-shown")){if(U.Y!==Y){var A=g.X3(),c=U.Y?U.Y.Xl.Pa:U.Pa;
A&&c&&g.o8(A,[c]);U.Y=Y;Uc(U)}if(A=U.isInitialized)A=U.jc().style.display=="none";A||(A=U.context.U.getPlayerState(),c=A===0&&U.context.U.getCurrentTime()===0,A=!(A===1||A===3||c));A||Y.Xl.teaserDurationMs&&U.U.Qc(!0,{teaserText:Y.Xl.teaserText,durationMs:Y.Xl.teaserDurationMs,onClickCommand:Y.Xl.onClickCommand});U.qI.isActive()||((!U.W||!U.jX.isActive()&&U.Uv)&&klo(U,Y),U.qI.start(910+Y.Xl.teaserDurationMs))}},klo=function(U,Y){U.X.Mz?(Y=new k7([0,
U.T.scrollTop],[0,Y.Gu.offsetTop],600,Moo),U.context.W.listen(Y,"animate",function(A){U.T.scrollTop=A.y}),U.context.W.listen(Y,"finish",function(A){U.T.scrollTop=A.y}),Y.play()):(U.X.PQ(!0),U.T.scrollTop=Y.Gu.offsetTop,U.X.PQ(!1))},A8=function(U){return U.Y&&U.Y.Xl?U.Y.Xl:U.cards[0]&&U.cards[0].Xl?U.cards[0].Xl:null},J1W=function(U,Y){return g.$z(U.cards,function(A){return A.Xl.id===Y})},c8=function(U,Y,A){y$.call(this,U,Y);
this.annotation=A;this.isActive=!1},xzL=function(U){var Y=U.annotation.data;
"start_ms"in Y&&"end_ms"in Y&&U.addCueRange(Number(Y.start_ms),Number(Y.end_ms),U.annotation.id,function(){U.show()},function(){U.hide()})},dM=function(U,Y,A){c8.call(this,U,Y,A);
this.T=null;this.G=!1;this.W=null;this.j=!1;this.Y=this.J=this.K=null},s3j=function(U,Y){var A=A===void 0?0:A;
var c=XBO(Y).width;g.mF(Y,c);A=new hET(Y,[c,Y.offsetTop],[c-c-A,Y.offsetTop],200,S_W);g.Z(U,A);U.context.W.listen(A,"begin",function(){g.up(Y,!0)});
A.play()},S2o=function(U,Y){if(Y.channel_name){var A=U.createElement({D:"div",
Iv:["iv-branding-context-name"],YE:Y.channel_name}),c=U.createElement({D:"div",Iv:["iv-branding-context-subscribe"]}),d=Y.standalone_subscribe_button_data;d&&(U.Y=new g.gH(d.subscribeText,d.subscribeCount,d.unsubscribeText,d.unsubscribeCount,!!d.enabled,!!d.classic,Y.channel_id,!!d.subscribed,d.feature,Y.session_data.itct,U.context.U,!1),U.Y.Df(c));var T=U.createElement({D:"div",Iv:["iv-branding-context-subscribe-caret"]}),E=U.createElement({D:"div",Iv:["branding-context-container-inner"]});E.appendChild(T);
E.appendChild(A);E.appendChild(c);g.up(E,!1);var L=U.createElement({D:"div",Iv:["branding-context-container-outer"]});L.appendChild(E);g.MP(L,"right",Y.image_width+"px");g.UU(U.jc(),L);U.W=new g.IM(function(){fVo(U,E,L)},500);
g.Z(U,U.W);U.context.Y.listen(U.jc(),"mouseover",function(){hyq(U,E,L,T,Y.image_height)});
U.context.Y.listen(U.jc(),"mouseout",function(){U.W.start()})}},hyq=function(U,Y,A,c,d){U.W.stop();
if(!U.j){var T=g.Ig(Y);U.Y||(Y.style.width=g.OF(T.width,!0),A.style.width=g.OF(T.width,!0));g.MP(c,"top",T.height-Math.max(Math.min(T.height,d)/2+10,20)+"px");g.MP(c,"right","1px");U.j=!0;g.up(Y,!0);U.K=new g.IM(function(){g.ou(this.jc(),"iv-branding-active")},0,U);
U.K.start()}},fVo=function(U,Y,A){g.LZ(U.jc(),"iv-branding-active");
U.J=new g.IM(function(){g.up(Y,!1);U.Y||(A.style.width=g.OF(0,!0))},250);
U.J.start();U.j=!1},Mgo=function(U,Y,A,c,d,T,E){this.Y=U;
this.W=Y;this.MI=A;this.videoData=c;this.logger=d;this.U=T;this.T=E},bGm=function(U,Y,A){c8.call(this,U,Y,A);
var c=this;this.Z=this.isCollapsed=this.X=!1;this.J=5E3;this.T=this.W=this.Y=this.j=null;this.G=this.createElement({D:"div",Iv:["iv-promo-contents"]});this.K=new g.IM(function(){c.Y.setAttribute("aria-hidden","true");g.up(c.W,!1);g.up(c.T,!0)},700,this);
g.Z(this,this.K)},Q3f=function(U){var Y=U.annotation.data;
if(U.annotation.style==="cta")var A=6;else if(U.annotation.style==="video"||U.annotation.style==="playlist")A=7;U.J=Y.collapsedelay_ms||U.J;var c=["iv-promo","iv-promo-inactive"];U.jc().setAttribute("aria-hidden","true");U.jc().setAttribute("aria-label","Promotion");U.jc().tabIndex=0;var d=U.annotation.GN(),T=Y.image_url;if(T){var E=U.createElement({D:"div",Iv:["iv-promo-img","iv-click-target"]});T=U.createElement({D:"img",V:{src:T,"aria-hidden":"true"}});E.appendChild(T);Y.video_duration&&!Y.is_live?
(T=U.createElement({D:"span",B:"iv-promo-video-duration",YE:Y.video_duration}),E.appendChild(T)):Y.playlist_length&&(T=U.createElement({D:"span",B:"iv-promo-playlist-length",YE:Y.playlist_length.toString()}),E.appendChild(T));d&&nM(U,E,d,U.annotation.id,Y.session_data,void 0,A)}d?(T=U.createElement({D:"a",B:"iv-promo-txt"}),g.uh(T,Q$(d)),U.Y=T):U.Y=U.createElement({D:"div",B:"iv-promo-txt"});switch(U.annotation.style){case "cta":case "website":var L=U.createElement({D:"p",C:[{D:"strong",YE:Y.text_line_1}]});
var r=U.createElement({D:"p",C:[{D:"span",B:"iv-promo-link",YE:Y.text_line_2}]});if(T=Y.text_line_3){c.push("iv-promo-website-card-cta-redesign");var l=U.createElement({D:"button",Iv:["iv-promo-round-expand-icon","ytp-button"]});T=U.createElement({D:"button",Iv:["iv-button","iv-promo-button"],C:[{D:"span",B:"iv-button-content",YE:T}]});var P=U.createElement({D:"div",B:"iv-promo-button-container"});P.appendChild(T);d&&nM(U,U.jc(),d,U.annotation.id,Y.session_data,void 0,A)}g.ou(U.Y,"iv-click-target");
d&&nM(U,U.Y,d,U.annotation.id,Y.session_data,void 0,A);break;case "playlist":case "video":L=U.createElement({D:"p",C:[{D:"span",YE:Y.text_line_1}]}),r=U.createElement({D:"p",C:[{D:"strong",YE:Y.text_line_2}]}),Y.is_live&&(L=r,r=U.createElement({D:"span",Iv:["yt-badge","iv-promo-badge-live"],YE:"LIVE NOW"})),g.ou(U.Y,"iv-click-target"),d&&nM(U,U.Y,d,U.annotation.id,Y.session_data,void 0,A),c.push("iv-promo-video")}L&&U.Y.appendChild(L);r&&U.Y.appendChild(r);U.G.appendChild(U.Y);P&&U.G.appendChild(P);
A=U.createElement({D:"div",B:"iv-promo-actions"});U.T=U.createElement({D:"button",Iv:["iv-promo-expand","ytp-button"]});U.T.title="Expand";U.context.Y.listen(U.T,"click",function(V){ppT(U,5E3,V)});
A.appendChild(U.T);g.up(U.T,!1);U.context.Y.listen(U.jc(),"mouseover",U.LL,U);U.context.Y.listen(U.jc(),"mouseout",U.Zj,U);U.context.Y.listen(U.jc(),"touchend",function(V){ppT(U,5E3,V)});
U.W=U.createElement({D:"button",Iv:["iv-promo-close","ytp-button"]});U.W.title="Close";U.context.Y.listen(U.W,"click",U.annotation.style==="cta"&&Y.text_line_3?U.t4:U.mS,U);A.appendChild(U.W);g.zx(U.jc(),c);E&&(g.UU(U.jc(),E),l&&E.appendChild(l));g.UU(U.jc(),U.G);g.UU(U.jc(),A)},ppT=function(U,Y,A){A.stopPropagation();
ZGW(U);OGw(U,Y);U.Y.focus()},mzo=function(U){U.isCollapsed||U.Z||U.j||(g.ou(U.jc(),"iv-promo-collapsed"),U.isCollapsed=!0,U.K.start())},ZGW=function(U){U.K.stop();
U.isCollapsed&&(g.rK(U.jc(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),U.isCollapsed=!1,U.Y&&U.Y.removeAttribute("aria-hidden"),g.up(U.T,!1),g.up(U.W,!0))},OGw=function(U,Y){U.j||(U.j=g.M3(function(){gZL(this);
mzo(this)},Y,U))},gZL=function(U){U.j&&(g.Dc.clearTimeout(U.j),U.j=null)},y1I=function(U){this.U=U},j3L=function(U,Y,A){Y&&(A?TQ(U,Y.map(function(c){return g.kC(c,A)})):TQ(U,Y))},TQ=function(U,Y,A,c){var d=1,T=void 0,E=-1;
if(A){var L=!1;T=function(){d--;d||L||(clearTimeout(E),L=!0,A())};
E=setTimeout(function(){L=!0;A()},1E3)}Y=g.J(Y||[]);
for(var r=Y.next();!r.done;r=Y.next())r=r.value,d++,g.OC(r,T);c&&(d++,c!==0&&U.U.sendVideoStatsEngageEvent(c,T))},nZI=function(U){g.lj.call(this,U);
var Y=this;this.Pw=this.Z=!1;this.loadNumber=0;this.J={};this.logger=new y1I(this.player);this.j=new g.Qy(this);this.K=this.G=null;this.events=new g.Qy(this);this.J8=this.X=this.Y=null;this.Hw=[];g.Z(this,this.j);this.j.N(this.player,"onVideoAreaChange",function(){Y.publish("onVideoAreaChange")});
this.j.N(this.player,"onHideControls",function(){Y.publish("onHideControls")});
this.j.N(this.player,"onShowControls",function(){Y.publish("onShowControls")});
this.j.N(this.player,"resize",function(c){Y.publish("resize",c)});
this.j.N(this.player,"presentingplayerstatechange",function(c){Y.publish("presentingplayerstatechange",c)});
this.subscribe("presentingplayerstatechange",this.Pe,this);this.subscribe("resize",this.P6,this);this.player.L().eX.subscribe("vast_info_card_add",this.yM,this);g.Z(this,this.events);this.ov=this.createElement({D:"div",B:"video-custom-annotations"});this.T=new g.n({D:"div",Iv:["ytp-player-content","ytp-iv-player-content"]});g.Z(this,this.T);g.S4(this.player,this.T.element,4);this.T.hide();this.W=new g.n({D:"div",Iv:["ytp-iv-video-content"]});g.Z(this,this.W);U=this.createElement({D:"div",B:"video-annotations"});
U.appendChild(this.ov);this.W.element.appendChild(U);this.UA()&&this.load();var A=this.createElement({D:"style"});(g.On("HEAD")[0]||document.body).appendChild(A);this.addOnDisposeCallback(function(){g.c4(A)});
if(U=A.sheet)U.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),U.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),U.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),U.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),U.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),U.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),U.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),U.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),U.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),U.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},Dzf=function(U){U=U.createElement({D:"div",
Iv:["annotation","annotation-type-custom"]});g.up(U,!1);return U},IVO=function(U,Y){Y=!Y.isCued()&&!g.I(Y,1024);
U.T.PQ(Y);U.W.PQ(Y)},uPL=function(U,Y,A){U.Z=!0;
U.K=g.tf(Y,A)},KAF=function(U,Y){for(var A={},c=g.J(Y.attributes),d=c.next();!d.done;d=c.next())d=d.value,A[d.name]=d.nodeValue;
for(c=0;c<Y.childNodes.length;c++)if(d=Y.childNodes[c],g.Yz(d)&&d.nodeType==1){if(A[d.tagName])var T=A[d.tagName];else if(d.tagName==="data"){d.childNodes.length>0&&(T=d.childNodes[0].nodeValue,A[d.tagName]=typeof T==="string"?T.trim():T);continue}else T=[],A[d.tagName]=T;d&&d.tagName==="TEXT"?d.childNodes.length===1&&d.childNodes[0].nodeType===3?T.push(d.childNodes[0].nodeValue):T.push(""):d&&T.push(KAF(U,d))}return A},YYL=function(U){var Y=g.M(U.player.getVideoData());
if(Y.yJ){var A=U.player.L().eX.get(Y.videoId);if(A){var c={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(d,T,E){d=U.loadNumber;T=Y.videoId;U.loaded&&U.loadNumber===d&&U.player.getVideoData().videoId===T&&(E=g.$G(E)&&E.responseXML?E.responseXML:null)&&q2m(U,E)}};
g.AQ()&&(c.onFinish=C3L(U,c.onFinish));c.postParams={ic_only:"1"};UAI(c,A);U.Z=!0;g.tf(Y.yJ,c)}}},UAI=function(U,Y){U.method="POST";
U.postParams=U.postParams||{};Y.wc&&(U.postParams.ic_coll=Y.wc);Y.y9&&(U.postParams.ic_xml=Y.y9);Y.m0&&(U.postParams.ic_track=Y.m0)},A7w=function(U){var Y=new g.n({D:"div"});
g.up(Y.element,!1);var A=new WAo(U.player,Y.element,Ec(U));g.Z(A,Y);Y.Df(U.T.element);A.WC();return A},dAI=function(U,Y){var A,c;
if(Y=(A=Y.getWatchNextResponse())==null?void 0:(c=A.cards)==null?void 0:c.cardCollectionRenderer)U.Pw=!0,c7L(U,Y),Y.headerText&&U.J8&&(A=g.wB(Y.headerText),U.J8.setAttribute("title",A))},Ec=function(U){if(!U.X){var Y=new b2q(U);
g.Z(U,Y);var A=new g.G6(U);g.Z(U,A);U.X=new Mgo(Y,A,U.player.L(),U.player.getVideoData(),U.logger,U.player,U.yz)}return U.X},q2m=function(U,Y){var A=!1,c=Y.getElementsByTagName("annotations");
if(c&&!(c.length<1)&&(c=c[0].getAttribute("itct"))){var d=g.X3();if(d){var T=g.Bj();T&&g.qY(g.IB)(void 0,d,T,[g.tz(c)])}}Y=Y.getElementsByTagName("annotation");for(c=0;c<Y.length;c++){T=KAF(U,Y[c]);d=null;try{if(T){var E=T.id,L=/.+/;var r=typeof E==="string"&&L!=null&&E!=null&&E.match(L)?E:"";var l=pM(T.type,Toq),P=pM(T.style,EHI),V=Y2T(T.data),v=V.length!==0?JSON.parse(V):{};var H=T.action;T=oZI;if(H==null)var G=null;else if(g.UO(H)){L=[];for(var F=g.J(H),N=F.next();!N.done;N=F.next()){var e=T(N.value);
e&&L.push(e)}G=L}else{var B=T(H);G=B?[B]:[]}d=r&&l?new zyf(r,l,P,G,v):null}else d=null}catch(c3){}if(d)if(d.type==="branding"||d.type==="promotion"){T=U;L=d;var f=Dzf(T),h=null;switch(L.type){case "branding":if(T.player.L().tb)break;T.T.element.appendChild(f);h=new dM(f,Ec(T),L);break;case "promotion":g.S4(T.player,f,4),h=new bGm(f,Ec(T),L)}h&&h.WC();if(T=h)g.Z(U,T),U.J[d.id]=T}else if(d.type==="card"||d.type==="drawer"){U.Y||(U.Y=A7w(U),g.Z(U,U.Y));if(d.type==="card"){f=U.Y;var Q=(A=d)&&A.data&&
A.data.card_type;d=A.data;if(Q)switch(T=d.tracking||{},T={TP:T.impression,click:T.click,close:T.close,IE:T.teaser_impression,dM:T.teaser_click},L=d.tracking_params||{},h=null,Q){case "collaborator":A={id:A.id,timestamp:d.timestamp||0,type:d.card_type,teaserText:d.teaser_text,teaserDurationMs:d.teaser_duration_ms,startMs:d.start_ms,autoOpen:d.auto_open||!1,sessionData:d.session_data||{},sponsored:d.sponsored||!1,KJ:T,YD:L.card?g.tz(L.card):null,Ym:L.teaser?g.tz(L.teaser):null,Pa:L.icon?g.tz(L.icon):
null,channelId:d.channel_id,customMessage:d.custom_message?d.custom_message:null,profileImageUrl:d.image_url,title:d.title,metaInfo:d.meta_info,url:Zk({pause_on_navigation:d.pause_on_navigation,target:d.target||"new",value:d.url}),onClickCommand:null};KM(f,A);break;case "playlist":A={id:A.id,timestamp:d.timestamp||0,type:d.card_type,teaserText:d.teaser_text,teaserDurationMs:d.teaser_duration_ms,startMs:d.start_ms,autoOpen:d.auto_open||!1,sessionData:d.session_data||{},sponsored:d.sponsored||!1,KJ:T,
YD:L.card?g.tz(L.card):null,Ym:L.teaser?g.tz(L.teaser):null,Pa:L.icon?g.tz(L.icon):null,g0:d.image_url,playlistVideoCount:d.playlist_video_count,customMessage:d.custom_message?d.custom_message:null,title:d.title,metaInfo:d.meta_info,url:g.M(Zk({pause_on_navigation:d.pause_on_navigation,target:d.target||"new",value:d.url})),onClickCommand:null};KM(f,A);break;case "productListing":d.signin_url&&(h=Zk({target:"current",value:d.signin_url}));Q=[];for(var K=d.offers||[],D=0;D<K.length;D++)Q.push(new $zz(g.Wi(K[D].merchant),
g.Wi(K[D].price)));A={id:A.id,timestamp:d.timestamp||0,type:d.card_type,teaserText:d.teaser_text,teaserDurationMs:d.teaser_duration_ms,startMs:d.start_ms,autoOpen:d.auto_open||!1,sessionData:d.session_data||{},sponsored:d.sponsored||!1,KJ:T,YD:L.card?g.tz(L.card):null,Ym:L.teaser?g.tz(L.teaser):null,Pa:L.icon?g.tz(L.icon):null,imageUrl:d.image_url,displayDomain:d.display_domain?d.display_domain:null,showLinkIcon:!!d.show_link_icon,Op:d.button_icon_url?d.button_icon_url:null,title:d.title,customMessage:d.custom_message?
d.custom_message:null,url:g.M(Zk({pause_on_navigation:d.pause_on_navigation,target:d.target||"new",value:d.url})),Ewn:h,aPs:d.signin_title?d.signin_title:void 0,qBs:d.signin_message?d.signin_message:void 0,offers:Q,onClickCommand:null};KM(f,A);break;case "simple":A={id:A.id,timestamp:d.timestamp||0,type:d.card_type,teaserText:d.teaser_text,teaserDurationMs:d.teaser_duration_ms,startMs:d.start_ms,autoOpen:d.auto_open||!1,sessionData:d.session_data||{},sponsored:d.sponsored||!1,KJ:T,YD:L.card?g.tz(L.card):
null,Ym:L.teaser?g.tz(L.teaser):null,Pa:L.icon?g.tz(L.icon):null,imageUrl:d.image_url,displayDomain:d.display_domain?d.display_domain:null,showLinkIcon:!!d.show_link_icon,Op:d.button_icon_url?d.button_icon_url:null,title:d.title,customMessage:d.custom_message?d.custom_message:null,url:g.M(Zk({pause_on_navigation:d.pause_on_navigation,target:d.target||"new",value:d.url})),onClickCommand:null};KM(f,A);break;case "video":A={id:A.id,timestamp:d.timestamp||0,type:d.card_type,teaserText:d.teaser_text,teaserDurationMs:d.teaser_duration_ms,
startMs:d.start_ms,autoOpen:d.auto_open||!1,sessionData:d.session_data||{},sponsored:d.sponsored||!1,KJ:T,YD:L.card?g.tz(L.card):null,Ym:L.teaser?g.tz(L.teaser):null,Pa:L.icon?g.tz(L.icon):null,g0:d.image_url,videoDuration:d.video_duration||null,customMessage:d.custom_message?d.custom_message:null,title:d.title,metaInfo:d.meta_info,isLiveNow:!!d.is_live_now,url:g.M(Zk({pause_on_navigation:d.pause_on_navigation,target:d.target||"new",value:d.url})),onClickCommand:null},KM(f,A)}}else wpf(U.Y,d);A=!0}}A&&
(NE(U.player),U.P6())},c7L=function(U,Y){var A=!1;
U.Y||(U.Y=A7w(U),g.Z(U,U.Y));for(var c=g.J(Y.cards||[]),d=c.next();!d.done;d=c.next())d=d.value,d.cardRenderer&&(iGY(U.Y,d.cardRenderer),A=!0);if(A){var T;(T=U.player.getVideoData())!=null&&g.fk(T)||(A=U.Y,c=Y.headerText?g.wB(Y.headerText):"",g.TH(A.ws,c),A.Z&&A.Z.setAttribute("title",c),A.context.videoData.eventId&&(A.eventId=A.context.videoData.eventId),A.QJ=Y.trackingParams?g.tz(Y.trackingParams):null,A.G=Y.closeButton.infoCardIconRenderer.trackingParams?g.tz(Y.closeButton.infoCardIconRenderer.trackingParams):
null,A.Pa=Y.icon.infoCardIconRenderer.trackingParams?g.tz(Y.icon.infoCardIconRenderer.trackingParams):null,U.P6());NE(U.player)}},oHW=function(U,Y,A,c,d){if(!U.player.L().tb){var T=[];
Y.navigationEndpoint&&g.O(Y.navigationEndpoint,g.BT)&&g.O(Y.navigationEndpoint,g.BT).browseId&&T.push(new dzq("openUrl","click",new A1f("/channel/"+g.O(Y.navigationEndpoint,g.BT).browseId,"new",!0,!0)));var E=Y.watermark.thumbnails[0];c={channel_name:Y.channelName,end_ms:Y.endTimeMs,image_height:E.height,image_type:1,image_url:E.url,image_width:E.width,is_mobile:!1,session_data:{annotation_id:A,ei:d,feature:"iv",itct:Y.trackingParams,src_vid:c},start_ms:Y.startTimeMs};if(Y.subscribeButton&&g.O(Y.subscribeButton,
g.Xr)){c.channel_id=g.O(Y.subscribeButton,g.Xr).channelId;var L;Y=g.O(Y.subscribeButton,g.Xr);E=d=null;Y.subscribed?(Y.subscriberCountWithUnsubscribeText&&(d=g.wB(Y.subscriberCountWithUnsubscribeText)),Y.subscriberCountText&&(E=g.wB(Y.subscriberCountText))):(Y.subscriberCountText&&(d=g.wB(Y.subscriberCountText)),Y.subscriberCountWithSubscribeText&&(E=g.wB(Y.subscriberCountWithSubscribeText)));var r,l=((r=g.O((L=Y.signInEndpoint)==null?void 0:L.commandMetadata,g.W2))==null?void 0:r.url)||"";L={subscribeText:g.wB(Y.unsubscribedButtonText),
subscribeCount:d||"",unsubscribeText:g.wB(Y.subscribedButtonText),unsubscribeCount:E||"",enabled:Y.enabled||!1,classic:!1,subscribed:Y.subscribed||!1,feature:"iv",signInUrl:l};c.standalone_subscribe_button_data=L}T=new zyf(A,"branding","branding",T,c);L=Dzf(U);U.T.element.appendChild(L);T=new dM(L,Ec(U),T);T.WC();g.Z(T,T);U.J[A]=T}},C3L=function(U,Y){return function(){var A=g.SS.apply(0,arguments);
U.Ky()||U.Hw.push(g.ZG.iN(function(){Y.apply(null,g.X(A))}))}},zJo=function(U){return U==="annotation-editor"||U==="live-dashboard"};
g.XT.prototype.Qc=g.E9(45,function(U,Y){var A=g.th(this.WZ());A&&A.Qc(U,Y)});
var e2={},BV=null;g.rL(k7,g.PF);g.W=k7.prototype;g.W.getDuration=function(){return this.duration};
g.W.play=function(U){if(U||this.Y==0)this.progress=0,this.coords=this.T;else if(this.isPlaying())return!1;XO(this);this.startTime=U=g.om();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.j=this.startTime;this.progress||this.NV();this.Nt("play");this.isPaused()&&this.Nt("resume");this.Y=1;var Y=g.cW(this);Y in e2||(e2[Y]=this);aWL();xpO(this,U);return!0};
g.W.stop=function(U){XO(this);this.Y=0;U&&(this.progress=1);s1L(this,this.progress);this.onStop();this.Zq()};
g.W.pause=function(){this.isPlaying()&&(XO(this),this.Y=-1,this.Nt("pause"))};
g.W.Tn=function(){this.Y==0||this.stop(!1);this.Nt("destroy");k7.sy.Tn.call(this)};
g.W.destroy=function(){this.dispose()};
g.W.s0=function(){this.Nt("animate")};
g.W.Nt=function(U){this.dispatchEvent(new fWo(U,this))};
g.rL(fWo,g.uY);g.rL(RP,k7);RP.prototype.W=function(){};
RP.prototype.s0=function(){this.W();RP.sy.s0.call(this)};
RP.prototype.Zq=function(){this.W();RP.sy.Zq.call(this)};
RP.prototype.NV=function(){this.W();RP.sy.NV.call(this)};
g.rL(hET,RP);hET.prototype.W=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.w(b2q,g.p);g.W=b2q.prototype;g.W.listen=function(U,Y,A,c){A=(0,g.dL)(A,c||this.T);U=g.jh(U,Y,A);this.Y.push(U);return U};
g.W.kL=function(U,Y,A,c){A=(0,g.dL)(A,c||this.T);U=k5W(U,Y,A);this.Y.push(U);return U};
g.W.FY=function(U){g.NR(U);g.wL(this.Y,U)};
g.W.removeAll=function(){g.NR(this.Y);this.Y.length=0};
g.W.Tn=function(){this.removeAll();g.p.prototype.Tn.call(this)};g.w(Z2O,g.lj);g.W=Z2O.prototype;g.W.load=function(){g.lj.prototype.load.call(this);if(!sd(this)){var U=g.Hf8(this.player.getVideoData());U?(U=Q1O(U,O2j(this)),fM(this,U,!1)):mpY(this)}};
g.W.unload=function(){fM(this,null);this.j&&(this.j.abort(),this.j=null);g.lj.prototype.unload.call(this)};
g.W.W5=function(U,Y){return sd(this)?U==="loadCustomEndscreenRenderer"?(U=Q1O(Y,"new"),fM(this,U),!0):null:null};
g.W.getOptions=function(){return sd(this)?["loadCustomEndscreenRenderer"]:[]};
g.W.hP=function(){if(this.endscreen&&this.endscreen.elements){var U=this.player.getVideoContentRect();if(U&&U.width!==0&&U.height!==0){var Y=this.player.getPlayerSize();if(Y&&Y.width!==0&&Y.height!==0){var A=U.width/U.height;var c=0;for(var d=-1,T=0;T<LSf.length;T++){var E=Math.abs(Y.width-LSf[T]);if(d===-1||c>=E)d=T,c=E}c=r7I[d];this.W&&g.MP(this.W.element,"outline-width",Math.max(Y.width,Y.height)+"px");for(Y=0;Y<this.endscreen.elements.length;++Y)if(T=this.endscreen.elements[Y].id,d=this.T[T],
E=this.J[T],d&&E){var L=E.width*A/E.aspectRatio,r=Math.round(E.width*U.width);T=Math.round(L*U.height);var l=U.left+Math.round(E.left*U.width),P=U.top+Math.round(E.top*U.height);g.DI(d.element,r,T);g.mF(d.element,l,P);g.rK(d.element,lpz);r>256||T>256?g.ou(d.element,"ytp-ce-large-round"):r>96||T>96?g.ou(d.element,"ytp-ce-medium-round"):g.ou(d.element,"ytp-ce-small-round");g.rK(d.element,Pkm);r=E.left+E.width/2;E=E.top+L/2;g.ou(d.element,r<=.5&&E<=.5?"ytp-ce-top-left-quad":r>.5&&E<=.5?"ytp-ce-top-right-quad":
r<=.5&&E>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.rK(d.element,r7I);g.ou(d.element,c);(d=g.gf(document,"div","ytp-ce-expanding-overlay-body",d.element)[0])&&g.MP(d,"height",T+"px")}}}}};
g.W.onCueRangeEnter=function(U){if(this.endscreen)if(U.getId()==="ytp-ce-in-endscreen")bX(this,this.endscreen.impressionUrls),(U=g.X3())&&this.endscreen.visualElement&&g.T2(U,this.endscreen.visualElement),this.Y&&(g.ou(this.Y,"ytp-ce-element-show"),this.Y.removeAttribute("aria-hidden"),this.player.F9()?g.ou(this.Y,"ytp-ce-hide-button-lower"):g.LZ(this.Y,"ytp-ce-hide-button-lower"));else{U=U.getId().substring(15);var Y=this.T[U],A=this.J[U];g.ou(Y.element,"ytp-ce-element-show");Y.element.removeAttribute("aria-hidden");
Y=this.player.getRootNode();g.ou(Y,"ytp-ce-shown");bX(this,A.impressionUrls);(Y=g.X3())&&g.T2(Y,A.visualElement);this.player.L().Z&&this.player.Ev("endscreenelementshown",U)}};
g.W.onCueRangeExit=function(U){if(U.getId()==="ytp-ce-in-endscreen")this.Y&&(g.LZ(this.Y,"ytp-ce-element-show"),this.Y.setAttribute("aria-hidden","true"));else{U=U.getId().substring(15);var Y=this.T[U];g.LZ(Y.element,"ytp-ce-element-show");Y.element.setAttribute("aria-hidden","true");Y=this.player.getRootNode();g.LZ(Y,"ytp-ce-shown");this.player.L().Z&&this.player.Ev("endscreenelementhidden",U)}};
g.W.IhY=function(U){var Y=this;U.target===window&&(new g.IM(function(){for(var A=g.J(Object.values(Y.T)),c=A.next();!c.done;c=A.next())g.rK(c.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.W.PQ=function(U){for(var Y=g.J(Object.values(this.T)),A=Y.next();!A.done;A=Y.next())A=A.value,U?A.element.setAttribute("hidden",""):A.element.removeAttribute("hidden")};
g.W.fAy=function(U){this.Y&&this.player.getRootNode().removeChild(this.Y);U&&(g.ou(U,"ytp-ce-hide-button-container"),this.Y=U,g.S4(this.player,this.Y,4))};
var LSf=[346,426,470,506,570,640,853,1280,1920],r7I="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),Pkm=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],lpz=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var c1m={Vjy:"current",yST:"new"};var T$o={CLOSE:"close",bmT:"openUrl",SUBSCRIBE:"subscribe"},EZY={dAT:"click",CLOSE:"close",Xlv:"hidden",eWv:"rollOut",Ssw:"rollOver",b2s:"shown"};zyf.prototype.GN=function(){var U=LAW(this,function(Y){return Y.type==="openUrl"&&Y.url!=null});
return U?U.url:null};
var EHI={ZFy:"anchored",gh:"branding",CHANNEL:"channel",CNY:"cta",w7W:"highlightText",lMX:"label",PLAYLIST:"playlist",POPUP:"popup",EUY:"speech",SUBSCRIBE:"subscribe",Hcy:"title",VIDEO:"video",NBT:"website"},Toq={gh:"branding",UAT:"card",A$I:"drawer",iXY:"highlight",xky:"marker",H2W:"promotion",TEXT:"text",Qmr:"widget"};g.w(y$,g.p);g.W=y$.prototype;g.W.addCueRange=function(U,Y,A,c,d){U=new g.EE(U,Y,{id:A,namespace:"annotations_module"});c&&this.dW.set(U,c);d&&this.Zf.set(U,d);this.context.U.VT([U],1)};
g.W.WC=function(){this.context.T.subscribe("resize",this.C_,this)};
g.W.jc=function(){return this.element};
g.W.jA=function(U,Y,A,c,d,T){if(this.VJ)return!1;T&&(T.stopPropagation(),T.preventDefault());this.navigate(U,A,c,d);return!1};
g.W.show=function(){};
g.W.hide=function(){};
g.W.destroy=function(){g.c4(this.jc())};
g.W.C_=function(){};
g.W.navigate=function(U,Y,A,c){var d=this,T=Q$(U);if(T){var E=HGj(T,U.target),L=function(){U.Y&&d.context.U.pauseVideo();var r=d.context.videoData.ET||!1,l=g.dF(T||"");r&&l&&(l.v||l.list)?d.context.U.uP(l.v,Y,l.list,!1):g.yz(T||"",E==="current"?"_top":void 0,Y)};
E==="new"&&(L(),L=null);TQ(this.context.logger,A,L,c);vZo(T)||(A=g.X3(),c=Y.itct,A&&c&&g.z2(A,g.tz(c)))}};
g.W.Tn=function(){this.dW.clear();this.Zf.clear();g.p.prototype.Tn.call(this)};
g.W.createElement=function(U){U=new g.n(U);g.Z(this,U);return U.element};g.w(WAo,y$);g.W=WAo.prototype;g.W.Ex=function(){this.Hw&&KM(this,this.Hw)};
g.W.isAvailable=function(){var U;if(U=!!this.cards.length)(U=this.U.getRootNode())?(U=g.Ig(U),U=173<U.width&&173<U.height):U=!1;return U};
g.W.C_=function(){var U=this.isAvailable();g.up(this.jc(),U);g.lg(this.context.U.getRootNode(),g.YN.IV_DRAWER_ENABLED,U);NE(this.U)};
g.W.destroy=function(){this.U.Qc(!1);try{this.U.getRootNode().removeChild(this.j)}catch(U){}g.z4(this.Pw);g.Rb(this.kE);this.yJ&&this.yJ.dispose();this.K&&this.K.dispose();y$.prototype.destroy.call(this)};
g.W.bM=function(){var U=this;this.context.Y.listen(g.y7("iv-drawer-close-button",this.j),"click",this.eY,this);this.context.Y.listen(this.T,"touchend",function(){U.jX.start()});
this.context.Y.listen(this.T,"scroll",this.Xa,this);this.context.T.subscribe("onHideControls",function(){U.Uv=!0});
this.context.T.subscribe("onShowControls",function(){U.Uv=!1});
this.context.T.subscribe("onVideoAreaChange",function(){U.Uv=g.E4(U.U.getRootNode(),"ytp-autohide")});
this.Pw.push(g.oQ("iv-button-shown",this.pwv,this));this.Pw.push(g.oQ("iv-button-hidden",this.EEw,this));tgI(this)};
g.W.findLastIndex=function(U){if(this.cards.length===0)return 0;var Y=g.HW(this.cards,function(A){return U.Xl.startMs>A.Xl.startMs||U.Xl.startMs===A.Xl.startMs&&U.Xl.timestamp>=A.Xl.timestamp?!0:!1});
return Y===-1?0:Y+1};
g.W.eY=function(){if(this.W){TQ(this.context.logger,A8(this).KJ.close);var U=g.X3();U&&this.G&&g.z2(U,this.G);uX(this)}};
g.W.Xa=function(){g.lg(this.j,"iv-drawer-scrolled",this.T.scrollTop>0)};
g.W.pwv=function(){var U=g.X3(),Y=A8(this);Y=Y?Y.Pa:this.Pa;U&&Y&&g.ED(U,[Y])};
g.W.EEw=function(){var U=g.X3(),Y=A8(this);Y=Y?Y.Pa:this.Pa;U&&Y&&g.o8(U,[Y])};
g.W.wR=function(){var U=A8(this);TQ(this.context.logger,U.KJ.IE);var Y=g.X3();if(Y&&U)if(this.U.S("web_infocards_teaser_show_logging_fix")){var A=[];U.Ym&&A.push(U.Ym);U.Pa&&A.push(U.Pa);A.length>0&&g.ED(Y,A)}else g.ED(Y,[U.Ym,U.Pa])};
g.W.Rrs=function(){var U=g.X3(),Y=A8(this);U&&Y&&g.o8(U,[Y.Ym])};
g.W.MC=function(U){var Y=A8(this),A=g.X3();this.Y?U?(U=this.context.logger,TQ(U,Y.KJ.dM),U.U.sendVideoStatsEngageEvent(4,void 0),A&&Y.Ym&&g.z2(A,Y.Ym)):(U=this.context.logger,TQ(U,Y.KJ.dM),U.U.sendVideoStatsEngageEvent(4,void 0),A&&Y.Pa&&g.z2(A,Y.Pa)):(U=this.context.logger,TQ(U,Y.KJ.dM),U.U.sendVideoStatsEngageEvent(4,void 0),A&&this.Pa&&g.z2(A,this.Pa))};g.w(c8,y$);c8.prototype.WC=function(){y$.prototype.WC.call(this);xzL(this)};
c8.prototype.show=function(){y$.prototype.show.call(this);var U=g.X3(),Y=this.annotation.data;U&&Y&&(Y=Y.session_data)&&g.ED(U,[g.tz(Y.itct)])};
c8.prototype.hide=function(){y$.prototype.hide.call(this);var U=g.X3(),Y=this.annotation.data;U&&Y&&(Y=Y.session_data)&&g.o8(U,[g.tz(Y.itct)])};g.w(dM,c8);
dM.prototype.show=function(){if(!this.isActive){c8.prototype.show.call(this);if(!this.G){g.ou(this.jc(),"iv-branding");var U=this.annotation.data;this.T=this.createElement({D:"img",Iv:["branding-img","iv-click-target"],V:{"aria-label":"Channel watermark",src:U.image_url,width:U.image_width,height:U.image_height}});g.up(this.T,!1);var Y=this.createElement({D:"button",Iv:["branding-img-container","ytp-button"]});Y.appendChild(this.T);this.jc().appendChild(Y);var A=this.annotation.GN();A&&nM(this,Y,
A,this.annotation.id,U.session_data);this.context.U.S("disable_branding_context")||S2o(this,U);this.G=!0}g.up(this.jc(),!0);this.isActive=!0;if(this.T){try{s3j(this,this.T)}catch(c){}g.ou(this.context.U.getRootNode(),"ytp-branding-shown");this.context.U.getRootNode().style.setProperty("--branding-image-width",this.T.getAttribute("width")+"px")}}};
dM.prototype.hide=function(){this.isActive&&(c8.prototype.hide.call(this),g.up(this.jc(),!1),this.isActive=!1,g.LZ(this.context.U.getRootNode(),"ytp-branding-shown"))};
dM.prototype.destroy=function(){this.Y&&(this.Y.dispose(),this.Y=null);g.LZ(this.context.U.getRootNode(),"ytp-branding-shown");c8.prototype.destroy.call(this)};g.w(bGm,c8);g.W=bGm.prototype;g.W.show=function(){this.isActive||(c8.prototype.show.call(this),this.X||(Q3f(this),this.X=!0),g.up(this.jc(),!0),g.M3(function(){g.LZ(this.jc(),"iv-promo-inactive")},100,this),this.jc().removeAttribute("aria-hidden"),this.isActive=!0,gZL(this),ZGW(this),OGw(this,this.J))};
g.W.hide=function(){this.isActive&&(g.ou(this.jc(),"iv-promo-inactive"),this.isActive=!1,this.jc().setAttribute("aria-hidden","true"))};
g.W.jA=function(U,Y,A,c,d,T){return this.isCollapsed?!1:c8.prototype.jA.call(this,U,Y,A,c,d,T)};
g.W.LL=function(U){this.Z=!0;ppT(this,500,U)};
g.W.Zj=function(){this.Z=!1;mzo(this)};
g.W.mS=function(U){U.stopPropagation();this.hide()};
g.W.t4=function(U){U.stopPropagation();gZL(this);this.isCollapsed=!0;g.ou(this.jc(),"iv-promo-collapsed-no-delay");this.K.start()};
g.W.destroy=function(){this.K.dispose();c8.prototype.destroy.call(this)};g.w(nZI,g.lj);g.W=nZI.prototype;g.W.W5=function(U,Y){if(!zJo(this.player.L().playerStyle))return null;switch(U){case "loadCustomAnnotationsXml":return(U=g.DX(Y))&&q2m(this,U),!0;case "removeCustomAnnotationById":return Y&&this.Y&&(FAO(this.Y,Y),NE(this.player)),!0}return null};
g.W.getOptions=function(){return zJo(this.player.L().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.W.UA=function(){var U=this.player.L(),Y=g.M(this.player.getVideoData()),A=U.annotationsLoadPolicy||Y.annotationsLoadPolicy;return g.Ck(Y)||this.player.isMutedByEmbedsMutedAutoplay()?!1:A===1&&!Y.oP||U.eX.get(Y.videoId)||g.hi(Y)||g.St(Y)?!0:!1};
g.W.P6=function(){if(this.W){var U=this.player.Cy().getVideoContentRect(!0);g.DI(this.W.element,U.width,U.height);g.mF(this.W.element,U.left,U.top)}if(this.Y){var Y=this.player.aX();U=this.Y;Y=Y.width;g.lg(U.j,"iv-drawer-small",Y<=426);g.lg(U.j,"iv-drawer-big",Y>=1280)}};
g.W.Pe=function(U){IVO(this,U.state);g.I(U.state,2)&&(this.F9()&&this.ww()&&this.player.getPresentingPlayerType()!==2&&this.Ff(!1),this.Qc(!1))};
g.W.load=function(){function U(E){var L=Y.loadNumber;Y.K=null;Y.loaded&&Y.loadNumber===L&&Y.player.getVideoData().videoId===c&&(E=g.$G(E)&&E.responseXML?E.responseXML:null)&&(q2m(Y,E),g.ou(Y.player.getRootNode(),"iv-module-loaded"))}
var Y=this;g.lj.prototype.load.call(this);IVO(this,this.player.getPlayerStateObject());this.loadNumber++;var A=g.M(this.player.getVideoData()),c=A.videoId;g.AQ()&&(U=C3L(this,U));var d={format:"XML",onFinish:U,onError:function(){Y.K=null},
urlParams:{}};A.isPharma&&(d.urlParams.pharma="1");d.method="POST";d.withCredentials=!0;var T=this.player.L().eX.get(c);T&&UAI(d,T);T=T&&(T.y9||T.wc);if(!A.Li||T)A.yJ?uPL(this,A.yJ,d):(this.G=function(){if(!Y.Z)Y.onVideoDataChange(d);var E=g.M(Y.player.getVideoData());(E==null?0:g.fk(E))&&!Y.Pw&&dAI(Y,E)},this.player.addEventListener("videodatachange",this.G));
g.S4(this.player,this.W.element,4);this.P6();(T=g.hi(A))&&c7L(this,T);(T=g.St(A))&&T.featuredChannel&&oHW(this,T.featuredChannel,T.annotationId||"branding",A.videoId||null,A.eventId||null);this.J8=g.y7("ytp-cards-button",this.player.getRootNode());g.fk(A)&&dAI(this,A)};
g.W.onVideoDataChange=function(U){var Y=g.M(this.player.getVideoData());Y.yJ&&uPL(this,Y.yJ,U)};
g.W.unload=function(){this.player.OH("annotations_module");for(var U=g.J(Object.keys(this.J)),Y=U.next();!Y.done;Y=U.next())this.J[Y.value].destroy();this.X=null;this.Y&&(this.Y.destroy(),this.Y=null,NE(this.player));this.Z=!1;this.K&&(this.K.abort(),this.K=null);this.Pw=!1;this.J={};this.T.hide();g.lj.prototype.unload.call(this);this.W.detach();this.G&&(this.player.removeEventListener("videodatachange",this.G),this.G=null)};
g.W.yM=function(U){U===this.player.getVideoData().videoId&&(this.loaded?YYL(this):this.load())};
g.W.F9=function(){var U;return((U=this.Y)==null?void 0:U.isAvailable())||this.Pw};
g.W.ww=function(){return!!this.Y&&this.Y.W};
g.W.Ff=function(U,Y,A){Y=Y===void 0?!1:Y;this.F9();this.Y&&(U?A?IP(this.Y,A,Y):IP(this.Y,"YOUTUBE_DRAWER_AUTO_OPEN",Y):uX(this.Y))};
g.W.Qc=function(U,Y){this.player.publish(U?"cardsteasershow":"cardsteaserhide",Y)};
g.W.Tn=function(){this.player.L().eX.unsubscribe("vast_info_card_add",this.yM,this);g.LZ(this.player.getRootNode(),g.YN.IV_DRAWER_OPEN);for(var U=this.Hw,Y=g.ZG,A=0,c=U.length;A<c;A++)Y.J$(U[A]);this.Hw.length=0;g.lj.prototype.Tn.call(this)};
g.W.createElement=function(U){U=new g.n(U);g.Z(this,U);return U.element};g.rH("annotations_module",nZI);g.rH("creatorendscreen",Z2O);})(_yt_player);
