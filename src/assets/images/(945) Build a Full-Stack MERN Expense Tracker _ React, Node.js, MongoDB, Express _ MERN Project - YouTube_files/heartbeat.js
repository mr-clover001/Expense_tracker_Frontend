(function(g){var window=this;'use strict';var Ibj=function(U,Y){if(!Number.isFinite(U))return String(U);U=String(U);var A=U.indexOf(".");A===-1&&(A=U.length);var c=U[0]==="-"?"-":"";c&&(U=U.substring(1));return c+(0,g.cqw)("0",Math.max(0,Y-A))+U},ujw=function(){return{D:"svg",
V:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},C:[{D:"path",V:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}}]}},K8O=function(){return{D:"svg",
V:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},C:[{D:"path",V:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]}},CtY=function(U){typeof U==="number"?(this.date=q6w(U,0,1),JN(this,1)):g.Yz(U)?(this.date=q6w(U.getFullYear(),U.getMonth(),U.getDate()),JN(this,U.getDate())):(this.date=new Date(g.om()),U=this.date.getDate(),
this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),JN(this,U))},q6w=function(U,Y,A){Y=new Date(U,Y,A);
U>=0&&U<100&&Y.setFullYear(Y.getFullYear()-1900);return Y},JN=function(U,Y){U.getDate()!=Y&&U.date.setUTCHours(U.date.getUTCHours()+(U.getDate()<Y?1:-1))},FU=function(U,Y){g.my.call(this,U,{D:"div",
B:"ytp-reminder-menu",V:{role:"menu",tabindex:"-1"},C:[{D:"div",B:"ytp-reminder-menu-contents",C:[{D:"div",B:"ytp-reminder-menu-items"}]}]},100,!0);this.Y=Y;this.W=[];this.menuPopupRenderer=void 0;this.items=this.As("ytp-reminder-menu-items");this.hide()},UnI=function(U){return(U.menuPopupRenderer&&U.menuPopupRenderer.items||[]).reduce(function(Y,A){A&&A.menuServiceItemRenderer&&Y.push(A.menuServiceItemRenderer);
return Y},[])},jq=function(U){g.n.call(this,{D:"div",
C:[{D:"button",Iv:["ytp-offline-slate-button","ytp-button"],C:[{D:"div",B:"ytp-offline-slate-button-icon",YE:"{{icon}}"},{D:"div",B:"ytp-offline-slate-button-text",YE:"{{text}}"}]}]});this.U=U;this.upcomingEventReminderButtonRenderer=this.toggleButtonRenderer=null;this.T=void 0;this.j=this.Y=null;(this.J=this.As("ytp-offline-slate-button"))&&this.N(this.J,"click",this.G);this.hide()},A6Y=function(U,Y,A){!U.toggleButtonRenderer&&Y&&Y.toggleButtonRenderer?U.toggleButtonRenderer=Y.toggleButtonRenderer:
Y&&Y.toggleButtonRenderer||(U.toggleButtonRenderer=null);
!U.upcomingEventReminderButtonRenderer&&A&&g.O(A,YRO)?U.upcomingEventReminderButtonRenderer=g.O(A,YRO):A&&g.O(A,YRO)||(U.upcomingEventReminderButtonRenderer=null);N$(U)},N$=function(U){if(U.toggleButtonRenderer){var Y=U.toggleButtonRenderer;
if(Y.isToggled){var A=Y.toggledText?g.wB(Y.toggledText):"";U.update({text:A,icon:c6W(Y.toggledIcon)})}else A=Y.defaultText?g.wB(Y.defaultText):"",U.update({text:A,icon:c6W(Y.defaultIcon)});U.show()}else U.upcomingEventReminderButtonRenderer?(Y=dnT(U))?(A=Y.text?g.wB(Y.text):"",U.update({text:A,icon:c6W(Y.icon)}),U.show()):U.hide():U.hide()},EtY=function(U,Y,A){U.j||(U.j=new g.YS(U.U.L().Hl));
var c={context:g.P9(U.j.config_||g.lz())};g.X3()&&(c.context.clientScreenNonce=g.X3());c.params=A;g.AH(U.j,Y,c,{timeout:5E3,onSuccess:function(){U.upcomingEventReminderButtonRenderer&&U.T&&(U.upcomingEventReminderButtonRenderer.currentState=U.T,U.T=void 0)},
onError:function(){TdY(U)},
onTimeout:function(){TdY(U)}})},TdY=function(U){U.toggleButtonRenderer?(U.toggleButtonRenderer.isToggled=!U.toggleButtonRenderer.isToggled,N$(U)):U.upcomingEventReminderButtonRenderer&&(U.T=void 0,N$(U))},c6W=function(U){if(!U)return null;
switch(U.iconType){case "NOTIFICATIONS":return ujw();case "NOTIFICATIONS_NONE":return K8O();case "NOTIFICATIONS_ACTIVE":return g.Ba();default:return null}},dnT=function(U){if(!U.upcomingEventReminderButtonRenderer)return null;
var Y=U.T||U.upcomingEventReminderButtonRenderer.currentState;U=g.J(U.upcomingEventReminderButtonRenderer.states||[]);for(var A=U.next();!A.done;A=U.next())if((A=g.O(A.value,otj))&&A.state===Y&&A.button&&g.O(A.button,g.ZK))return g.O(A.button,g.ZK);return null},zgz=function(U){g.n.call(this,{D:"div",
B:"ytp-offline-slate",C:[{D:"div",B:"ytp-offline-slate-background"},{D:"div",B:"ytp-offline-slate-bar",C:[{D:"span",B:"ytp-offline-slate-icon",C:[{D:"svg",V:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},C:[{D:"path",V:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{D:"circle",V:{cx:"12",cy:"12",r:"3"}}]}]},{D:"span",B:"ytp-offline-slate-messages",C:[{D:"div",B:"ytp-offline-slate-main-text",V:{"aria-label":"{{label}}"},YE:"{{mainText}}"},{D:"div",B:"ytp-offline-slate-subtitle-text",YE:"{{subtitleText}}"}]},{D:"span",B:"ytp-offline-slate-buttons"}]},{D:"button",Iv:["ytp-offline-slate-close-button","ytp-button"],C:[g.jb()]},{D:"button",Iv:["ytp-offline-slate-open-button","ytp-button"],C:[g.Fs()]}]});var Y=this;this.api=U;this.Y=this.T=null;this.background=this.As("ytp-offline-slate-background");
this.W=this.As("ytp-offline-slate-bar");this.J=new g.IM(function(){g.ou(Y.W,"ytp-offline-slate-bar-fade")},15E3);
this.G=!1;this.j=new g.IM(function(){g.ou(Y.element,"ytp-offline-slate-collapsed")},15E3);
g.Z(this,this.j);g.Z(this,this.J);this.countdownTimer=new g.IM(this.V1,1E3,this);this.N(U,"presentingplayerstatechange",this.iZ);this.N(U,"livestatedata",this.cw);this.N(this.As("ytp-offline-slate-close-button"),"click",function(){g.ou(Y.element,"ytp-offline-slate-collapsed")});
this.N(this.As("ytp-offline-slate-open-button"),"click",function(){g.LZ(Y.element,"ytp-offline-slate-collapsed")});
this.hide();U=this.getVideoData();U.getPlayerResponse()&&(U=g.M(U.getPlayerResponse()).playabilityStatus)&&this.cw(U);U=this.api.getPresentingPlayerType()===8&&!this.getVideoData().yB;var A=this.api.getPresentingPlayerType()===8;g.lg(this.element,"ytp-offline-slate-premiere-trailer",U);g.lg(this.element,"ytp-offline-slate-hide-background",A)},L$z=function(U,Y,A){if(Y){var c=Y.subtitleText!=null?g.wB(Y.subtitleText):"";
A=A?A:Y.mainText!=null?g.wB(Y.mainText):"";var d,T,E,L;Y=(L=(d=Y.mainText)==null?void 0:(T=d.accessibility)==null?void 0:(E=T.accessibilityData)==null?void 0:E.label)!=null?L:A;U.update({mainText:A,subtitleText:c,label:Y});g.lg(U.element,"ytp-offline-slate-single-text-line",!c);g.lg(U.W,"ytp-offline-slate-bar-hidden",!A&&!c)}},tN=function(U,Y){var A=(0,g.y)();
this.trigger=U;this.Y=Y;this.W=A},vtm=function(U){g.lj.call(this,U);
var Y=this;this.G=!1;this.Z=0;this.K=!1;this.T=new g.IM(function(){r6O(Y)},0);
this.Y=this.heartbeatParams=null;this.j=!1;this.J=new g.MU(1E3,6E4,1);this.sequenceNumber=0;this.offlineSlate=null;this.Pw=new g.YS(void 0);this.attestationResponse=Promise.resolve(void 0);this.X=Promise.resolve(void 0);this.utcOffsetMinutes=-(new CtY).getTimezoneOffset();this.W=new g.Qy(this);g.Z(this,this.T);g.Z(this,this.W);lOo(this);Paw(this);this.W.N(U,"heartbeatparams",this.QI);this.W.N(U,"presentingplayerstatechange",this.Ku);this.W.N(U,"videoplayerreset",this.eW);this.W.N(U,g.zf("heartbeat"),
this.onCueRangeEnter);this.j&&this.Y&&VCz(this,void 0,this.Y);var A=new g.EE(1E3,0x7ffffffffffff,{priority:1,namespace:"heartbeat"}),c=new g.EE(0x8000000000000,0x8000000000000,{id:"stream_end",priority:1,namespace:"heartbeat"});U.VT([A,c]);$no(this)},$no=function(U){var Y=U.getVideoData();
!Y.S("use_rta_for_player")&&Y.DM&&(Y=Y.botguardData)&&g.nJ(Y,U.player.L())},HiO=function(U){var Y,A;
return g.S(function(c){if(c.T==1)return g.x(c,g.tHE(),2);if(!c.Y)return U.sequenceNumber>=3?c.return({error:"ATTESTATION_ERROR_VM_INTERNAL_ERROR"}):c.return(void 0);Y=U.getVideoData();A={};return c.return(g.Nn3((A.cpn=Y.clientPlaybackNonce,A.encryptedVideoId=Y.videoId||"",A),1500))})},lOo=function(U){var Y=U.getVideoData();
if(Y.DM)if(Y.S("use_rta_for_player"))U.attestationResponse=HiO(U);else if(Y=new g.fTY(Y),g.mB.isInitialized()||U.sequenceNumber>=3){var A=Promise,c=A.resolve,d=null;if(Y.videoData.iO){var T=g.hhV(Y);if(T){d={};var E={};T=T.split("&");T=g.J(T);for(var L=T.next();!L.done;L=T.next())L=L.value.split("="),L.length===2&&(E[L[0]]=L[1]);E.r1a&&(d.webResponse=E.r1a);E.r1c&&(d.error=GJF[Number(E.r1c)]);d.challenge=Y.videoData.iO}}U.attestationResponse=c.call(A,d||void 0)}},W$Y=function(U){var Y=U.getVideoData();
if(!g.Ji(U.getVideoData())||Y.qZ)return!1;if(Y.K){U=Y.K.flavor==="playready"&&Y.S("html5_innertube_heartbeats_for_playready");var A=Y.K.flavor==="widevine"&&Y.S("html5_innertube_heartbeats_for_widevine");Y=g.uq(Y.K)&&Y.S("html5_innertube_heartbeats_for_fairplay");return!(U||A||Y)}return!0},woL=function(U){if(W$Y(U))return!!U.heartbeatParams;
var Y=U.getVideoData();return!g.Ji(U.getVideoData())||Y.vl||Y.YB?!!Y.heartbeatToken:!1},eq=function(U,Y){if(!U.T.isActive()&&U.G){var A=U.getVideoData();
if(woL(U)||A.isLivePlayback){if(Y===void 0)if(U.K)if(U.j)Y=7500;else{var c;Y=((c=U.heartbeatParams)==null?0:c.interval)?U.heartbeatParams.interval*1E3:U.getVideoData().O1||6E4}else Y=1E3;U.T.start(Y)}}},jqW=function(U,Y,A){Y.AM&&(A=g.xJ(A,{internalipoverride:Y.AM}));
var c={cpn:Y.clientPlaybackNonce};Y.contextParams&&(c.context_params=Y.contextParams);Y.tb&&(c.kpt=Y.tb);A=g.xJ(A,c);g.tf(A,{format:"RAW",method:"GET",timeout:3E4,onSuccess:function(d){if(!U.T.isActive()&&BY(U)){U.J.reset();U.sequenceNumber++;d=d.responseText;var T=iiw(d);if(T){U.player.Ev("onHeartbeat",T);var E=T.status==="ok"?T.stop_heartbeat?2:0:T.status==="stop"?1:T.status==="live_stream_offline"?0:-1}else E=(E=d.match(J6L))?E[1]==="0"?0:1:-1;F$w(U,void 0,T,d,E)}},
onError:function(d){BY(U)&&XU(U,!0,"net-"+d.status)},
onTimeout:function(){BY(U)&&XU(U,!0,"timeout")},
withCredentials:!0})},r6O=function(U){var Y,A;
g.S(function(c){Y=U.player.L();A=U.getVideoData();if(!BY(U))return c.return();if(W$Y(U))return NdT(U,Y,A),c.uY(0);lOo(U);return g.x(c,tCI(U,Y,A),0)})},NdT=function(U,Y,A){var c;
if((c=U.heartbeatParams)!=null&&c.url){var d=g.xJ(U.heartbeatParams.url,{request_id:g.BFY()});A.eX&&(d=g.xJ(d,{vvt:A.eX}),A.mdxEnvironment&&(d=g.xJ(d,{mdx_environment:A.mdxEnvironment})));g.o$(Y,A.oauthToken).then(function(T){T&&(d=g.xJ(d,{access_token:T}));jqW(U,A,d)})}},BY=function(U){var Y=U.getVideoData();
return U.player.getPresentingPlayerType()===3||g.I(U.player.getPlayerStateObject(U.getPlayerType()),4)?!1:woL(U)||Y.isLivePlayback?!0:(ka(U),!1)},tCI=function(U,Y,A){var c,d,T,E,L,r,l,P,V,v,H,G,F,N,e,B,f,h,Q,K;
return g.S(function(D){if(D.T==1)return c="player/heartbeat",T={videoId:A.videoId,sequenceNumber:U.sequenceNumber,heartbeatServerData:(d=U.Hw)!=null?d:A.heartbeatServerData},U.X=U.attestationResponse,A.DM?g.x(D,U.X,3):D.uY(2);D.T!=2&&(T.attestationResponse=D.Y);E=g.cC(A);r=(L=E.client)!=null?L:{};r.utcOffsetMinutes=U.utcOffsetMinutes;T.context=E;T.cpn=A.clientPlaybackNonce;if(l=typeof Intl!=="undefined"?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)r.timeZone=l;P={heartbeatChecks:[]};
if(V=A.getPlayerResponse())A.heartbeatToken&&(T.heartbeatToken=A.heartbeatToken),(v=V.playabilityStatus)&&(H=v.liveStreamability)&&H.liveStreamabilityRenderer&&P.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");A.heartbeatToken&&P.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");g.XA(Y)&&(P.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED"),G=egf(U),F={},G!==null&&(F.clientPlayerPositionUtcMillis=G),e=(N=U.player.WZ())==null?void 0:g.jD(N),f=((B=e)==null?void 0:B.freePreviewWatchedDuration)||
0,f>0&&(F.freePreviewWatchedDuration={seconds:""+f}),P.unpluggedParams=F);T.heartbeatRequestParams=P;A.isLivePlayback?(h=egf(U),h!==null&&(T.playbackState||(T.playbackState={}),T.playbackState.playbackPosition={utcTimeMillis:h})):Y.S("enable_heartbeat_vod_playback_position")&&(Q=Bdj(U),Q!==null&&(T.playbackState||(T.playbackState={}),T.playbackState.playbackPosition={streamTimeMillis:Q}));U.player.publish("heartbeatRequest",T);K={timeout:3E4,onSuccess:function(c3){if(!U.T.isActive()&&BY(U)){var TV=
U.getVideoData(),U9=TV.DM&&U.X==null,LY;TV.DM=!((LY=c3.heartbeatAttestationConfig)==null||!LY.requiresAttestation)||U9;U9=c3.playabilityStatus;LY=JSON.stringify(U9)||"{}";c3.authenticationMismatch&&U.player.wW("authshear",{});var q=-1;var FE=c3.playabilityStatus;FE&&(U.player.Ev("onHeartbeat",FE),FE.status==="OK"?q=c3.stopHeartbeat?2:0:FE.status==="UNPLAYABLE"?q=1:FE.status==="LIVE_STREAM_OFFLINE"&&(q=0));U.sequenceNumber&&q===-1||U.J.reset();U.sequenceNumber++;c3.heartbeatServerData&&(U.Hw=c3.heartbeatServerData);
TV.xB=c3;(FE=c3.playerCueRangeSet)&&g.CD(TV,FE);c3.playerCueRanges&&c3.playerCueRanges.length>0&&(TV.cueRanges=c3.playerCueRanges);var B3,O9;((B3=c3.progressBarConfig)==null?0:B3.progressBarStartPosition)&&((O9=c3.progressBarConfig)==null?0:O9.progressBarEndPosition)&&(TV.progressBarStartPosition=c3.progressBarConfig.progressBarStartPosition,TV.progressBarEndPosition=c3.progressBarConfig.progressBarEndPosition);TV.compositeLiveIngestionOffsetToken=c3.compositeLiveIngestionOffsetToken;c3.compositeLiveStatusToken!==
TV.compositeLiveStatusToken&&(TV.compositeLiveStatusToken=c3.compositeLiveStatusToken);TV.publish("dataupdated");F$w(U,c3,U9,LY,q)}},
onError:function(c3){BY(U)&&XU(U,!0,"net-"+c3.status)},
onTimeout:function(){BY(U)&&XU(U,!0,"timeout")}};
g.o$(Y,g.Za(A)).then(function(c3){c3&&(K.lm="Bearer "+c3);g.AH(U.Pw,c,T,K)});
g.i8(D)})},F$w=function(U,Y,A,c,d){d===-1?(A="decode "+g.YK(c,3),XU(U,!1,A)):d===2?(ka(U),U.K=!0):(U.Z=0,U.T.stop(),d===1?(U.K=!1,A&&A.errorCode==="PLAYABILITY_ERROR_CODE_EMBARGOED"&&U.player.X9(!0),d="pe."+(A==null?void 0:A.errorCode)+";ps."+(A==null?void 0:A.status),U.player.OT("heartbeat.stop",2,U.uB(c),d),g.r7("heartbeatActionPlayerHalted",Xoo(A)),(Y==null?0:Y.videoTransitionEndpoint)&&A&&(Y=Y.videoTransitionEndpoint,(c=g.O(Y,g.Yp))&&kJF(U,c,A,{itct:Y==null?void 0:Y.clickTrackingParams}))):(U.K=
!0,c=0,U.j&&A&&(c=VCz(U,Y,A),U.player.publish("livestatedata",A)),c?eq(U,c):eq(U)))},VCz=function(U,Y,A){var c=A.liveStreamability&&A.liveStreamability.liveStreamabilityRenderer,d=!(!c||!(c.switchStreamsImmediately||c.transitionTiming&&c.transitionTiming==="STREAM_TRANSITION_TIMING_IMMEDIATELY"));
Y=Rgz(U,Y,c);var T=U.getVideoData(),E=U.player.getPlayerStateObject(U.getPlayerType()),L=E.isPlaying()&&!g.kp(T)&&!U.player.isAtLiveHead(U.getPlayerType());if(T.L().O3()){var r,l=((r=U.player.sH())==null?void 0:r.i9())||{};l.status=A.status||"";l.dvr=""+ +L;l["switch"]=""+ +d;l.ended=""+ +!(!c||!c.displayEndscreen);U.player.wW("heartbeat",l)}r=U.player.S("always_cache_redirect_endpoint");if(L&&!d&&!r)return Y;l=c&&c.streamTransitionEndpoint&&g.O(c.streamTransitionEndpoint,g.Yp);var P=c&&c.transitionTiming;
if(P==="STREAM_TRANSITION_TIMING_AT_STREAM_END")U.getVideoData().transitionEndpointAtEndOfStream=l;else if(r&&!l&&U.getVideoData().transitionEndpointAtEndOfStream)U.getVideoData().transitionEndpointAtEndOfStream=void 0;else if(!r&&l&&kJF(U,l,A))return Y;if(L&&!d&&r||r&&l&&(P==="STREAM_TRANSITION_TIMING_IMMEDIATELY"||P==="STREAM_TRANSITION_TIMING_UNSPECIFIED")&&kJF(U,l,A))return Y;if(A.status.toUpperCase()==="OK"){d=c&&c.broadcastId;L=U.Y&&U.Y.liveStreamability&&U.Y.liveStreamability.liveStreamabilityRenderer&&
U.Y.liveStreamability.liveStreamabilityRenderer.broadcastId;r=d!==L&&d!=null;if(!g.ti(T)||r){var V={video_id:T.videoId};T.uD&&(V.is_live_destination="1");V.disable_watch_next=!0;V.raw_watch_next_response=T.getWatchNextResponse();V.autonav_state=T.autonavState;V.oauth_token=T.oauthToken;V.ER=T.ER;T.J&&(V.vss_credentials_token=T.J,V.vss_credentials_token_type=T.Dp);T.eX&&(V.vvt=T.eX);c=void 0;g.ti(T)?r&&(c=new tN("broadcastIdChanged",L+","+d),U.iT("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",
A)):(d&&(c=new tN("formatsReceived",""+d)),U.iT("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE",A));U.player.loadVideoByPlayerVars(V,void 0,void 0,void 0,c);return Y}U.player.va("heartbeat",U.getPlayerType())}c&&c.displayEndscreen&&(U.offlineSlate?(U=U.offlineSlate,U.G=!0,U.Mz&&U.api.e7()):E.isBuffering()&&(T=((V=U.player.sH())==null?void 0:V.i9())||{},U.player.wW("hbse",T,!0),U.player.e7(),U.player.Ev("onLiveMediaEnded",A)));return Y},Rgz=function(U,
Y,A){return U.player.S("web_player_use_heartbeat_poll_delay_ms")&&(U=Number(Y==null?void 0:Y.pollDelayMs))?U:(A=Number(A==null?void 0:A.pollDelayMs))?A:0},XU=function(U,Y,A){var c=U.player.L();
if(!U.T.isActive()){U.T.stop();U.Z++;var d=Y?"heartbeat.net":"heartbeat.servererror";var T=U.getVideoData();if(T.Fv||Y&&!g.Ji(U.getVideoData())&&!woL(U)&&T.isLivePlayback)T=!1;else{var E,L;((L=U.heartbeatParams)==null?0:L.retries)?E=U.heartbeatParams.retries:E=T.MZ||5;T=U.Z>=E}T?(g.r7("heartbeatActionPlayerHalted",Y?{enforcedPolicyToHaltOnNetworkFailure:!0}:Xoo()),(Y=U.getVideoData())&&Y.isLivePlayback?U.player.OT(d,1,"Video playback interrupted. Please try again.",A):U.player.OT(d,1,"Sorry, there was an error licensing this video.",
A)):(c.S("html5_report_non_fatal_heartbeat_error")&&U.player.oT(d,{msg:A}),eq(U,U.J.getValue()),g.bY(U.J))}},Xoo=function(U){var Y={enforcedPolicyToHaltOnNetworkFailure:!1};
U&&(Y.serializedServerContext=U.additionalLoggingData);return Y},ka=function(U){U.Z=0;
U.T.stop();U.K=!1;U.sequenceNumber=0},Paw=function(U){var Y=U.getVideoData(),A=U.player.L();
if(Y.isLivePlayback)if(g.za(A.K)){U.j=!0;U.G=!0;if(!g.Rd(A)||g.XA(A))U.offlineSlate=new zgz(U.player),g.Z(U,U.offlineSlate),g.S4(U.player,U.offlineSlate.element,4);(Y=Y.getPlayerResponse())&&Y.playabilityStatus&&(U.Y=Y.playabilityStatus);var c;((c=U.Y)==null?void 0:c.status)!=="UNPLAYABLE"&&(U.Y?(c=Rgz(U,void 0,U.Y.liveStreamability&&U.Y.liveStreamability.liveStreamabilityRenderer))?eq(U,c):eq(U,7500):eq(U,1E3))}else U.player.OT("html5.unsupportedlive",2,"HTML5_NO_AVAILABLE_FORMATS_FALLBACK","nolive.1");
else g.Go(Y.Hw,"heartbeat")&&U.player.va("heartbeat",U.getPlayerType())},kJF=function(U,Y,A,c){var d=Y&&Y.videoId;
return d?(U.player.uP(d,Object.assign({},{autonav:"1"},c||{}),void 0,!0,!0,Y,g.Za(U.getVideoData())),U.iT("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT",A),!0):!1},egf=function(U){return(U=U.player.getProgressState(U.getPlayerType()).ingestionTime)&&isFinite(U)?""+Math.floor(U*1E3):null},Bdj=function(U){return(U=U.player.getCurrentTime(U.getPlayerType()))&&isFinite(U)?""+Math.floor(U*1E3):null},iiw=function(U){try{var Y=JSON.parse(U);
return Y!=null?Y:void 0}catch(A){}},aOf={ERAS:["BC",
"AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},xnY=aOf;xnY=aOf;
var GJF=["ATTESTATION_ERROR_UNKNOWN","ATTESTATION_ERROR_VM_NOT_INITIALIZED","ATTESTATION_ERROR_VM_NO_RESPONSE","ATTESTATION_ERROR_VM_TIMEOUT","ATTESTATION_ERROR_VM_INTERNAL_ERROR"],sqz={300:"STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",301:"ALREADY_PINNED_ON_A_DEVICE",303:"STOPPED_BY_ANOTHER_PLAYBACK",304:"TOO_MANY_STREAMS_PER_USER",305:"TOO_MANY_STREAMS_PER_ENTITLEMENT",400:"VIDEO_NOT_FOUND",401:"GEO_FAILURE",402:"STREAMING_NOT_ALLOWED",403:"UNSUPPORTED_DEVICE",405:"VIDEO_FORBIDDEN",500:"PURCHASE_NOT_FOUND",
501:"RENTAL_EXPIRED",502:"PURCHASE_REFUNDED",5E3:"BAD_REQUEST",5001:"CGI_PARAMS_MISSING",5002:"CGI_PARAMS_MALFORMED",5100:"AUTHENTICATION_MISSING",5101:"AUTHENTICATION_MALFORMED",5102:"AUTHENTICATION_EXPIRED",5200:"CAST_TOKEN_MALFORMED",5201:"CAST_TOKEN_EXPIRED",5202:"CAST_TOKEN_FAILED",5203:"CAST_SESSION_VIDEO_MISMATCHED",5204:"CAST_SESSION_DEVICE_MISMATCHED",6E3:"INVALID_DRM_MESSAGE",7E3:"SERVER_ERROR",8E3:"RETRYABLE_ERROR"};g.W=CtY.prototype;g.W.RP=xnY.FIRSTDAYOFWEEK;g.W.nY=xnY.FIRSTWEEKCUTOFFDAY;
g.W.clone=function(){var U=new CtY(this.date);U.RP=this.RP;U.nY=this.nY;return U};
g.W.getFullYear=function(){return this.date.getFullYear()};
g.W.getYear=function(){return this.getFullYear()};
g.W.getMonth=function(){return this.date.getMonth()};
g.W.getDate=function(){return this.date.getDate()};
g.W.getTime=function(){return this.date.getTime()};
g.W.getDay=function(){return this.date.getDay()};
g.W.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.W.getUTCMonth=function(){return this.date.getUTCMonth()};
g.W.getUTCDate=function(){return this.date.getUTCDate()};
g.W.getUTCDay=function(){return this.date.getDay()};
g.W.getUTCHours=function(){return this.date.getUTCHours()};
g.W.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.W.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.W.set=function(U){this.date=new Date(U.getFullYear(),U.getMonth(),U.getDate())};
g.W.setFullYear=function(U){this.date.setFullYear(U)};
g.W.setYear=function(U){this.setFullYear(U)};
g.W.setMonth=function(U){this.date.setMonth(U)};
g.W.setDate=function(U){this.date.setDate(U)};
g.W.setTime=function(U){this.date.setTime(U)};
g.W.setUTCFullYear=function(U){this.date.setUTCFullYear(U)};
g.W.setUTCMonth=function(U){this.date.setUTCMonth(U)};
g.W.setUTCDate=function(U){this.date.setUTCDate(U)};
g.W.add=function(U){if(U.years||U.months){var Y=this.getMonth()+U.months+U.years*12,A=this.getYear()+Math.floor(Y/12);Y%=12;Y<0&&(Y+=12);a:{switch(Y){case 1:var c=A%4!=0||A%100==0&&A%400!=0?28:29;break a;case 5:case 8:case 10:case 3:c=30;break a}c=31}c=Math.min(c,this.getDate());this.setDate(1);this.setFullYear(A);this.setMonth(Y);this.setDate(c)}U.days&&(A=this.getYear(),Y=A>=0&&A<=99?-1900:0,U=new Date((new Date(A,this.getMonth(),this.getDate(),12)).getTime()+U.days*864E5),this.setDate(1),this.setFullYear(U.getFullYear()+
Y),this.setMonth(U.getMonth()),this.setDate(U.getDate()),JN(this,U.getDate()))};
g.W.equals=function(U){return!(!U||this.getYear()!=U.getYear()||this.getMonth()!=U.getMonth()||this.getDate()!=U.getDate())};
g.W.toString=function(){var U=this.getFullYear(),Y=U<0?"-":U>=1E4?"+":"";return[Y+Ibj(Math.abs(U),Y?6:4),Ibj(this.getMonth()+1,2),Ibj(this.getDate(),2)].join("")+""};
g.W.valueOf=function(){return this.date.valueOf()};var fOz=new g.eT("addUpcomingEventReminderEndpoint");var hgT=new g.eT("removeUpcomingEventReminderEndpoint");var SRj=new g.eT("updateUpcomingEventReminderButtonStateCommand");var YRO=new g.eT("upcomingEventReminderButtonRenderer"),otj=new g.eT("upcomingEventReminderButtonStateRenderer");g.w(FU,g.my);
FU.prototype.updateMenuItems=function(){var U=this,Y=UnI(this),A=0;A=0;for(var c={};A<Y.length;c={Am:void 0},A++){var d=this.W[A];d||(d=new g.n({D:"div",B:"ytp-reminder-menu-item",V:{role:"menuitem",tabindex:"0"},C:[{D:"div",B:"ytp-reminder-menu-item-icon",YE:"{{icon}}"},{D:"div",B:"ytp-reminder-menu-item-label",YE:"{{text}}"}]}),c.Am=A,d.listen("click",function(E){return function(){var L=E.Am;U.Kr();L=UnI(U)[L];U.publish("reminderMenuItemClicked",L.serviceEndpoint||L.command)}}(c)),d.Df(this.items),
this.W[A]=d);
var T=Y[A];c=null;switch(T.icon&&T.icon.iconType){case "NOTIFICATIONS":c=ujw();break;case "NOTIFICATIONS_NONE":c=K8O();break;case "NOTIFICATIONS_ACTIVE":c=g.Ba()}T=T.text?g.wB(T.text):"";d.update({icon:c,text:T})}for(;A<this.W.length;)this.W.pop().dispose();A===0?this.Kr():this.fU(this.Y)};
FU.prototype.hide=function(){this.Y&&this.Y.removeAttribute("aria-haspopup");g.my.prototype.hide.call(this)};
FU.prototype.show=function(){this.Y&&this.Y.setAttribute("aria-haspopup","true");g.my.prototype.show.call(this)};
FU.prototype.Tn=function(){g.VM(this.W);g.my.prototype.Tn.call(this)};g.w(jq,g.n);
jq.prototype.G=function(){if(this.toggleButtonRenderer){var U=this.toggleButtonRenderer;U.isToggled?this.W(U.toggledServiceEndpoint):this.W(U.defaultServiceEndpoint);U.isToggled=!U.isToggled;N$(this)}else if(this.upcomingEventReminderButtonRenderer)if(this.Y&&this.Y.Mz)this.Y.Kr();else{var Y=dnT(this);Y&&this.W(Y.serviceEndpoint||Y.command);Y=((U=g.O(Y==null?void 0:Y.command,g.w1))==null?void 0:U.commands)||[];a:{U=g.J(Y);for(var A=U.next();!A.done;A=U.next()){var c=Y=void 0;if(A=(Y=g.O(A.value,g.cUo))==
null?void 0:(c=Y.popup)==null?void 0:c.menuPopupRenderer){U=A;break a}}U=void 0}this.Y||(this.Y=new FU(this.U,this.J),this.Y.Df(this.element),g.Z(this,this.Y),this.Y.subscribe("reminderMenuItemClicked",this.W,this));Y=this.Y;Y.menuPopupRenderer=U;Y.updateMenuItems()}};
jq.prototype.W=function(U){var Y=g.O(U,fOz),A=g.O(U,hgT);if(U&&(Y||A)){if(Y){var c=Y;var d="notification/add_upcoming_event_reminder"}else A&&(c=A,d="notification/remove_upcoming_event_reminder");if(d&&c&&c.params)for(EtY(this,d,c.params),U=g.J(c.commands||[]),Y=U.next();!Y.done;Y=U.next())if((Y=Y.value)&&g.O(Y,SRj)){this.T=g.O(Y,SRj).state;N$(this);break}}};g.w(zgz,g.n);g.W=zgz.prototype;g.W.getPlayerType=function(){if(this.api.getPresentingPlayerType()===8)return 1};
g.W.getVideoData=function(){return g.M(this.api.getVideoData(this.getPlayerType()))};
g.W.cw=function(U){var Y,A,c=U==null?void 0:(Y=U.liveStreamability)==null?void 0:(A=Y.liveStreamabilityRenderer)==null?void 0:A.offlineSlate;if(c){this.T=U;Y=c.liveStreamOfflineSlateRenderer;Y.canShowCountdown?this.V1():L$z(this,Y);var d,T,E,L;if(A=U==null?void 0:(d=U.liveStreamability)==null?void 0:(T=d.liveStreamabilityRenderer)==null?void 0:(E=T.offlineSlate)==null?void 0:(L=E.liveStreamOfflineSlateRenderer)==null?void 0:L.thumbnail){d=0;T=null;E=A.thumbnails;for(L=0;L<E.length;L++)E[L].width>
d&&(d=E[L].width||0,T=E[L].url);T&&(this.background.style.backgroundImage="url("+T+")")}else this.background.style.backgroundImage="";Y.actionButtons||Y.reminderButton?(this.Y||(this.Y=new jq(this.api),this.Y.Df(this.As("ytp-offline-slate-buttons")),g.Z(this,this.Y)),A6Y(this.Y,Y.actionButtons&&Y.actionButtons[0],Y.reminderButton)):this.Y&&A6Y(this.Y,null,null);this.T=U}else this.T=null;this.iZ()};
g.W.iZ=function(U){if(this.api.getPresentingPlayerType()===8)var Y=!0;else{var A=this.api.getPlayerStateObject(),c=this.getVideoData();Y=c.isLivePlayback&&(A.isBuffering()||g.I(A,2)||g.I(A,64));var d=c.autonavState===2&&g.I(A,2);A=A.isPlaying()&&!g.kp(c)&&!this.api.isAtLiveHead(void 0,!0);Y=Y&&!A&&!d}Y&&this.T?this.Mz?(U==null?0:g.Gg(U,2))&&!this.getVideoData().yB&&(g.LZ(this.element,"ytp-offline-slate-collapsed"),this.j.stop(),g.LZ(this.W,"ytp-offline-slate-bar-fade"),this.J.start()):(this.show(),
this.j.start(),this.api.publish("offlineslatestatechange"),this.G&&this.api.e7()):this.Mz&&(this.hide(),this.api.publish("offlineslatestatechange"))};
g.W.V1=function(){var U,Y,A,c,d=(U=this.T)==null?void 0:(Y=U.liveStreamability)==null?void 0:(A=Y.liveStreamabilityRenderer)==null?void 0:(c=A.offlineSlate)==null?void 0:c.liveStreamOfflineSlateRenderer;d&&(U=Math.floor(g.om()/1E3),Y=d.canShowCountdown&&Number(d.scheduledStartTime),!Y||Y<=U?(L$z(this,d),this.countdownTimer.stop()):(L$z(this,d,g.eR(Y-U)),g.uQ(this.countdownTimer)))};
g.W.Tn=function(){this.countdownTimer.dispose();this.countdownTimer=null;g.n.prototype.Tn.call(this)};tN.prototype.T=function(U){return this.trigger&&U.trigger?this.trigger===U.trigger&&this.Y===U.Y:!1};
tN.prototype.isExpired=function(){return(0,g.y)()-this.W>6E4};
tN.prototype.toString=function(){return"heartbeat:"+this.trigger+":"+this.Y};g.w(vtm,g.lj);g.W=vtm.prototype;g.W.Tn=function(){ka(this);this.player.OH("heartbeat");g.lj.prototype.Tn.call(this)};
g.W.onCueRangeEnter=function(){this.G=!0;eq(this,2E3)};
g.W.QI=function(U){this.heartbeatParams=U;eq(this,2E3)};
g.W.Ku=function(U){var Y;this.player.getPresentingPlayerType()!==8&&((Y=this.Y)==null?void 0:Y.status)!=="UNPLAYABLE"&&(g.I(U.state,2)||g.I(U.state,64)?(ka(this),this.j&&(this.G=!0,eq(this,1E3))):(g.I(U.state,1)||g.I(U.state,8))&&eq(this,2E3))};
g.W.eW=function(){this.player.getPresentingPlayerType()!==3&&eq(this,2E3)};
g.W.getPlayerType=function(){if(this.player.getPresentingPlayerType()===8)return 1};
g.W.getVideoData=function(){return g.M(this.player.getVideoData(this.getPlayerType()))};
g.W.Hi=function(U){switch(U){case 4:case 3:return!1}return!0};
g.W.iT=function(U,Y,A){U={trigger:U,reason:Y};A&&(U.serializedServerContext=A.additionalLoggingData);g.r7("heartbeatActionPlayerTransitioned",U)};
g.W.uB=function(U){var Y="LICENSE",A=iiw(U);if(A)return A.reason||g.sx[Y]||"";if(U=U.match(J6L))if(U=Number(U[1]))Y=(Y=sqz[U.toString()])?Y:"LICENSE";return g.sx[Y]||""};
g.W.xL=function(){return!!this.offlineSlate&&this.offlineSlate.Mz};
var J6L=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.rH("heartbeat",vtm);})(_yt_player);
